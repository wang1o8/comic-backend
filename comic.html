<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Th∆∞ Vi·ªán Truy·ªán & Phim - Qu·∫£n l√Ω Chapter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <div id="connectionStatus" style="
        position: absolute;
        top: 20px;
        right: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 0.9rem;
    ">
        <span class="status-dot" id="statusDot"></span>
        <span id="statusText">ƒêang ki·ªÉm tra...</span>
    </div>
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #f59e0b;
            --danger: #ef4444;
            --success: #22c55e;
            --dark: #0f172a;
            --darker: #020617;
            --light: #f8fafc;
            --gray: #64748b;
            --gray-light: #cbd5e1;
            --card-bg: rgba(15, 23, 42, 0.9);
            --card-border: rgba(99, 102, 241, 0.2);
            
            /* Neon colors */
            --neon-red: #ff0055;
            --neon-blue: #00ccff;
            --neon-green: #00ff88;
            --neon-purple: #aa00ff;
            --neon-yellow: #ffcc00;
            --neon-pink: #ff00ff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px 20px;
            border-radius: 20px;
            background: linear-gradient(90deg, 
                rgba(99, 102, 241, 0.1) 0%, 
                rgba(16, 185, 129, 0.1) 50%, 
                rgba(99, 102, 241, 0.1) 100%);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--card-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(0, 204, 255, 0.3);
        }

        header p {
            color: var(--gray-light);
            font-size: 1.2rem;
        }
        
        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--gray);
        }

        .status-dot.online {
            background: var(--success);
            animation: pulse 2s infinite;
        }

        .status-dot.slow {
            background: var(--warning);
            animation: pulse 1s infinite;
        }

        .status-dot.offline {
            background: var(--danger);
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        /* Control Panel */
        .control-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid var(--card-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .stats {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px 20px;
            background: rgba(99, 102, 241, 0.1);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--neon-blue);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .action-buttons {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(99, 102, 241, 0.4);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #16a34a;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(34, 197, 94, 0.4);
        }

        .btn-warning {
            background: var(--accent);
            color: white;
        }

        .btn-warning:hover {
            background: #d97706;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(245, 158, 11, 0.4);
        }

        /* Search container */
        .search-container {
            position: relative;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        .search-box {
            width: 100%;
            padding: 18px 20px 18px 60px;
            border-radius: 50px;
            border: 2px solid rgba(99, 102, 241, 0.5);
            background: rgba(15, 23, 42, 0.8);
            color: var(--light);
            font-size: 1.1rem;
            transition: all 0.3s;
            outline: none;
        }

        .search-box:focus {
            border-color: var(--primary);
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.7);
        }

        .search-icon {
            position: absolute;
            left: 25px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
            font-size: 1.2rem;
        }

        /* Main Layout */
        .main-content {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        /* Sidebar */
        .sidebar {
            flex: 0 0 320px;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid var(--card-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-height: 85vh;
            overflow-y: auto;
            position: sticky;
            top: 20px;
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .sidebar h2 {
            font-size: 1.5rem;
            color: var(--neon-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .categories-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .category-item {
            padding: 15px;
            border-radius: 12px;
            background: rgba(30, 41, 59, 0.5);
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .category-item:hover {
            background: rgba(99, 102, 241, 0.2);
            transform: translateX(5px);
        }

        .category-item.active {
            background: rgba(99, 102, 241, 0.3);
            border-left-color: var(--primary);
            box-shadow: 0 5px 20px rgba(99, 102, 241, 0.3);
        }

        .category-name {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .category-code {
            background: var(--primary);
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: bold;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            min-width: 300px;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 25px;
            color: var(--neon-green);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Category Content */
        .category-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--card-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .category-content.active {
            display: block;
        }

        /* Subcategories */
        .subcategory {
            margin-bottom: 30px;
        }

        .subcategory-title {
            font-size: 1.4rem;
            color: var(--neon-yellow);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid rgba(255, 204, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Items Grid */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .item {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid var(--gray);
            transition: all 0.3s;
            position: relative;
        }

        .item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .item-title {
            font-weight: 600;
            font-size: 1.1rem;
            flex: 1;
        }

        .item-rating {
            background: rgba(100, 116, 139, 0.2);
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .item-body {
            margin-bottom: 15px;
        }

        .item-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 10px;
        }

        .tag {
            padding: 3px 8px;
            background: rgba(99, 102, 241, 0.2);
            border-radius: 4px;
            font-size: 0.75rem;
            color: var(--neon-blue);
        }

        .item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .chapter-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chapter-input {
            width: 80px;
            padding: 8px 12px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--card-border);
            border-radius: 6px;
            color: var(--light);
            text-align: center;
        }

        .chapter-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 0.9rem;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-update {
            background: var(--success);
            color: white;
        }

        .btn-update:hover {
            background: #16a34a;
        }

        .btn-delete {
            background: var(--danger);
            color: white;
        }

        .btn-delete:hover {
            background: #dc2626;
        }

        .item-actions {
            display: flex;
            gap: 8px;
        }

        /* Neon Effects */
        .item.neon-heart {
            border-left-color: var(--neon-red);
            box-shadow: 0 5px 15px rgba(255, 0, 85, 0.2);
        }

        .item.neon-heart .item-rating {
            color: var(--neon-red);
            background: rgba(255, 0, 85, 0.1);
        }

        .item.neon-4 {
            border-left-color: var(--neon-purple);
            box-shadow: 0 5px 15px rgba(170, 0, 255, 0.2);
        }

        .item.neon-4 .item-rating {
            color: var(--neon-purple);
            background: rgba(170, 0, 255, 0.1);
        }

        .item.neon-3 {
            border-left-color: var(--neon-yellow);
            box-shadow: 0 5px 15px rgba(255, 204, 0, 0.2);
        }

        .item.neon-3 .item-rating {
            color: var(--neon-yellow);
            background: rgba(255, 204, 0, 0.1);
        }

        .item.neon-2 {
            border-left-color: var(--neon-green);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.2);
        }

        .item.neon-2 .item-rating {
            color: var(--neon-green);
            background: rgba(0, 255, 136, 0.1);
        }

        .item.neon-1 {
            border-left-color: var(--neon-blue);
            box-shadow: 0 5px 15px rgba(0, 204, 255, 0.2);
        }

        .item.neon-1 .item-rating {
            color: var(--neon-blue);
            background: rgba(0, 204, 255, 0.1);
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            border: 1px solid var(--card-border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            animation: modalFadeIn 0.3s ease-out;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--neon-blue);
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .close-modal:hover {
            color: var(--danger);
            transform: rotate(90deg);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--gray-light);
            font-weight: 500;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid var(--card-border);
            border-radius: 10px;
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .btn-cancel {
            background: rgba(100, 116, 139, 0.5);
            color: var(--light);
        }

        .btn-cancel:hover {
            background: rgba(100, 116, 139, 0.7);
        }

        /* No Results */
        .no-results {
            text-align: center;
            padding: 60px 40px;
            color: var(--gray);
            font-size: 1.2rem;
            display: none;
        }

        .no-results i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: var(--gray);
            opacity: 0.5;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(99, 102, 241, 0.3);
            color: var(--gray);
            font-size: 0.9rem;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            padding: 15px 25px;
            background: var(--success);
            color: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: none;
            align-items: center;
            gap: 10px;
            z-index: 1001;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Progress bar */
        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 2px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 2px;
            transition: width 0.3s;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .sidebar {
                flex: 0 0 280px;
            }
            
            .items-grid {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                position: static;
                max-height: none;
            }
            
            .control-panel {
                flex-direction: column;
                align-items: flex-start;
            }
        }

        @media (max-width: 768px) {
            .items-grid {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .search-box {
                padding: 15px 15px 15px 50px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(var(--primary), var(--secondary));
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(var(--primary-dark), var(--secondary));
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-book-open"></i> Th∆∞ Vi·ªán Truy·ªán & Phim</h1>
            <p>Qu·∫£n l√Ω v√† theo d√µi truy·ªán b·∫°n ƒëang ƒë·ªçc</p>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-value" id="totalItems">0</span>
                    <span class="stat-label">T·ªïng s·ªë truy·ªán</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="totalCategories">0</span>
                    <span class="stat-label">Th·ªÉ lo·∫°i</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value" id="readingCount">0</span>
                    <span class="stat-label">ƒêang ƒë·ªçc</span>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="addComicBtn">
                    <i class="fas fa-plus"></i> Th√™m truy·ªán m·ªõi
                </button>
                <button class="btn btn-success" id="saveAllBtn">
                    <i class="fas fa-save"></i> L∆∞u t·∫•t c·∫£
                </button>
                <button class="btn btn-warning" id="importBtn">
                    <i class="fas fa-file-import"></i> Nh·∫≠p d·ªØ li·ªáu
                </button>
                <button class="btn btn-info" id="checkConnectionBtn">
                    <i class="fas fa-wifi"></i> Ki·ªÉm tra k·∫øt n·ªëi
                </button>
                <button class="btn btn-warning" id="retrySyncBtn">
                    <i class="fas fa-sync-alt"></i> Th·ª≠ ƒë·ªìng b·ªô l·∫°i
                </button>
            </div>
        </div>

        

        <!-- Search Container -->
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-box" id="searchInput" placeholder="T√¨m ki·∫øm truy·ªán, phim, th·ªÉ lo·∫°i...">
        </div>

        <div class="main-content">
            <!-- Sidebar with Categories -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <h2><i class="fas fa-list"></i> Danh M·ª•c Th·ªÉ Lo·∫°i</h2>
                </div>
                <div class="categories-list" id="categoriesList">
                    <!-- Categories will be populated by JavaScript -->
                </div>
            </div>

            <!-- Content Area -->
            <div class="content-area">
                <h2 class="section-title" id="currentCategoryTitle">
                    <i class="fas fa-star"></i> Ch·ªçn th·ªÉ lo·∫°i ƒë·ªÉ xem
                </h2>
                
                <div id="categoryContents">
                    <!-- Category contents will be populated by JavaScript -->
                </div>
                
                <div class="no-results" id="noResults">
                    <i class="fas fa-search fa-3x"></i>
                    <p>Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ ph√π h·ª£p v·ªõi t·ª´ kh√≥a t√¨m ki·∫øm</p>
                    <p class="suggestion">Th·ª≠ t√¨m ki·∫øm v·ªõi t·ª´ kh√≥a kh√°c ho·∫∑c th√™m truy·ªán m·ªõi</p>
                </div>
            </div>
        </div>

        <!-- Add Comic Modal -->
        <div class="modal" id="addComicModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-plus"></i> Th√™m truy·ªán m·ªõi</h3>
                    <button class="close-modal" id="closeAddModal">&times;</button>
                </div>
                
                <form id="addComicForm">
                    <div class="form-group">
                        <label class="form-label">T√™n truy·ªán *</label>
                        <input type="text" class="form-input" id="comicTitle" required placeholder="Nh·∫≠p t√™n truy·ªán">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Th·ªÉ lo·∫°i *</label>
                        <select class="form-select" id="comicCategory" required>
                            <option value="">Ch·ªçn th·ªÉ lo·∫°i</option>
                            <!-- Options will be populated by JavaScript -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">M·ª•c con (t√πy ch·ªçn)</label>
                        <input type="text" class="form-input" id="comicSubcategory" placeholder="V√≠ d·ª•: combat, h√†i, tu ti√™n...">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Chapter hi·ªán t·∫°i *</label>
                        <input type="text" class="form-input" id="comicChapter" required placeholder="V√≠ d·ª•: 128, 45.5, p1...">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ƒê√°nh gi√°</label>
                        <select class="form-select" id="comicRating">
                            <option value="none">Kh√¥ng ƒë√°nh gi√°</option>
                            <option value="heart">üíï ƒê·∫∑c bi·ªát</option>
                            <option value="4">**** 4 sao</option>
                            <option value="3">*** 3 sao</option>
                            <option value="2">** 2 sao</option>
                            <option value="1">* 1 sao</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Th·∫ª (ph√¢n c√°ch b·∫±ng d·∫•u ph·∫©y)</label>
                        <input type="text" class="form-input" id="comicTags" placeholder="V√≠ d·ª•: h·ªçc ƒë∆∞·ªùng, h√†i h∆∞·ªõc, chi·∫øn ƒë·∫•u">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">M√¥ t·∫£ (t√πy ch·ªçn)</label>
                        <textarea class="form-textarea" id="comicDescription" placeholder="M√¥ t·∫£ ng·∫Øn v·ªÅ truy·ªán..."></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-cancel" id="cancelAdd">H·ªßy</button>
                        <button type="submit" class="btn btn-primary">Th√™m truy·ªán</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Edit Chapter Modal -->
        <div class="modal" id="editChapterModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-edit"></i> C·∫≠p nh·∫≠t chapter</h3>
                    <button class="close-modal" id="closeEditModal">&times;</button>
                </div>
                
                <form id="editChapterForm">
                    <input type="hidden" id="editComicId">
                    <input type="hidden" id="editCategoryId">
                    <input type="hidden" id="editSubcategoryName">
                    
                    <div class="form-group">
                        <label class="form-label">T√™n truy·ªán</label>
                        <input type="text" class="form-input" id="editComicTitle" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Chapter hi·ªán t·∫°i *</label>
                        <input type="text" class="form-input" id="editComicChapter" required placeholder="Nh·∫≠p chapter m·ªõi">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">ƒê√°nh gi√°</label>
                        <select class="form-select" id="editComicRating">
                            <option value="none">Kh√¥ng ƒë√°nh gi√°</option>
                            <option value="heart">üíï ƒê·∫∑c bi·ªát</option>
                            <option value="4">**** 4 sao</option>
                            <option value="3">*** 3 sao</option>
                            <option value="2">** 2 sao</option>
                            <option value="1">* 1 sao</option>
                        </select>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-cancel" id="cancelEdit">H·ªßy</button>
                        <button type="submit" class="btn btn-primary">C·∫≠p nh·∫≠t</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Import Data Modal -->
        <div class="modal" id="importModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-file-import"></i> Nh·∫≠p d·ªØ li·ªáu</h3>
                    <button class="close-modal" id="closeImportModal">&times;</button>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Ch·ªçn ph∆∞∆°ng th·ª©c nh·∫≠p</label>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        <button class="btn btn-primary" id="importDefault">Nh·∫≠p d·ªØ li·ªáu m·∫´u</button>
                        <button class="btn btn-success" id="importJSON">Nh·∫≠p t·ª´ JSON</button>
                    </div>
                </div>
                
                <div class="form-group" id="jsonInputContainer" style="display: none;">
                    <label class="form-label">D√°n JSON d·ªØ li·ªáu v√†o ƒë√¢y</label>
                    <textarea class="form-textarea" id="jsonInput" placeholder="D√°n n·ªôi dung JSON v√†o ƒë√¢y..." rows="10"></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-cancel" id="cancelImport">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div class="toast" id="toast">
            <i class="fas fa-check-circle"></i>
            <span id="toastMessage">ƒê√£ l∆∞u th√†nh c√¥ng!</span>
        </div>

        <footer>
            <p>Th∆∞ vi·ªán t·ªïng h·ª£p | D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u t·ª± ƒë·ªông</p>
            <p style="margin-top: 10px; color: var(--gray-light); font-size: 0.8rem;">
                <i class="fas fa-info-circle"></i> D·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u trong tr√¨nh duy·ªát c·ªßa b·∫°n
            </p>
            <p style="margin-top: 20px;">¬© 2023 Th∆∞ Vi·ªán Truy·ªán & Phim. T·∫•t c·∫£ c√°c quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
        </footer>
    </div>

 <script>
    // Data structure for all content
    let contentData = {
        categories: [
            { id: 'hoc-duong', name: 'H·ªåC ƒê∆Ø·ªúNG', code: '1111', icon: 'fas fa-school', color: '#6366f1' },
            { id: 'mat-the', name: 'M·∫†T TH·∫æ', code: '2222', icon: 'fas fa-skull-crossbones', color: '#ef4444' },
            { id: 'he-thong', name: 'H·ªÜ TH·ªêNG', code: '3333', icon: 'fas fa-cogs', color: '#10b981' },
            { id: 'xay-dung', name: 'X√ÇY D·ª∞NG', code: '4444', icon: 'fas fa-building', color: '#f59e0b' },
            { id: 'di-gioi', name: 'D·ªä GI·ªöI', code: '5555', icon: 'fas fa-globe-asia', color: '#8b5cf6' },
            { id: 'kinh-doanh', name: 'KINH DOANH', code: '6666', icon: 'fas fa-chart-line', color: '#06b6d4' },
            { id: 'trung-sinh', name: 'TR√ôNG SINH', code: '7777', icon: 'fas fa-redo', color: '#ec4899' },
            { id: 'ngon', name: 'NG√îN', code: '8888', icon: 'fas fa-heart', color: '#f43f5e' },
            { id: 'tu-tien', name: 'TU TI√äN', code: 'AAA', icon: 'fas fa-mountain', color: '#22c55e' },
            { id: 'do-thi', name: 'ƒê√î TH·ªä', code: 'BBB', icon: 'fas fa-city', color: '#3b82f6' },
            { id: 'phan-dien', name: 'PH·∫¢N DI·ªÜN', code: 'CCC', icon: 'fas fa-user-ninja', color: '#0ea5e9' },
            { id: 'vo-han-luu', name: 'V√î H·∫†N L∆ØU', code: 'EEE', icon: 'fas fa-infinity', color: '#a855f7' },
            { id: 'manh', name: 'M·∫†NH', code: 'DDD', icon: 'fas fa-fist-raised', color: '#f97316' },
            { id: 'quy-than', name: 'QU·ª∂ TH·∫¶N', code: 'FFF', icon: 'fas fa-ghost', color: '#6b7280' },
            { id: 'ecchi', name: 'ECCHI', code: '9999', icon: 'fas fa-fire', color: '#dc2626' },
            { id: 'phim', name: 'PHIM', code: '0000', icon: 'fas fa-film', color: '#8b5cf6' }
        ],
        
        items: {}
    };

    // Default data from your file
    const defaultData = {
        'hoc-duong': [
            { subcategory: 'combat', items: [
                { id: generateId(), title: 'th·ªÉ thao c·ª±c h·∫°n 6', chapter: '6', neon: 'none' },
                { id: generateId(), title: 'C√°ch chi·∫øn th·∫Øng m·ªçi tr·∫≠n ƒë·∫•u /128', chapter: '128', neon: 'heart' },
                { id: generateId(), title: 'Lookism- ho√°n ƒë·ªïi di·ªáu k√¨ /555', chapter: '555', neon: 'heart' },
                { id: generateId(), title: 'b√° ch·ªß h·ªçc ƒë∆∞·ªùng 61 p1', chapter: '61', neon: 'none' },
                { id: generateId(), title: 'king game 8', chapter: '8', neon: 'none' },
                { id: generateId(), title: 'b·ªë v·∫°n nƒÉng 24', chapter: '24', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªÉ c√≥ th·ªÉ s·ªëng s√≥t 108', chapter: '108', neon: 'none' },
                { id: generateId(), title: 'b·∫°n h·ªçc c·ªßa t√¥i l√† l√≠nh ƒë√°nh thu√™ 218', chapter: '218', neon: 'none' },
                { id: generateId(), title: 'gi·∫£ v·ªù l√†m ph·∫ø v·∫≠t h·ªçc ƒë∆∞·ªùng 9', chapter: '9', neon: 'none' },
                { id: generateId(), title: 'gi√°o d·ª•c ch√¢n ch√≠nh 204', chapter: '204', neon: '2' }
            ]},
            { subcategory: 'h√†i', items: [
                { id: generateId(), title: 'C√¥ g√°i t·ª´ ·ª©ng d·ª•ng nh·∫Øn tin k√¨ l·∫° /161', chapter: '161', neon: 'none' },
                { id: generateId(), title: 'friendzone /90', chapter: '90', neon: 'none' },
                { id: generateId(), title: 'Grand blue 77', chapter: '77', neon: '3' },
                { id: generateId(), title: 'sun ken rock 28', chapter: '28', neon: 'none' },
                { id: generateId(), title: 'danshi koukousei no nichijou', chapter: '', neon: 'none' },
                { id: generateId(), title: 'tomodachi game', chapter: '', neon: 'none' },
                { id: generateId(), title: 'con m√®o ƒë√¥ v·∫≠t c·ªßa t√¥i 5', chapter: '5', neon: 'none' },
                { id: generateId(), title: 'n·ªØ di·ªÖn vi√™n t√†i nƒÉng', chapter: '', neon: 'none' },
                { id: generateId(), title: 'oishi no ko 89', chapter: '89', neon: 'none' }
            ]}
        ],
        
        'mat-the': [
            { subcategory: '', items: [
                { id: generateId(), title: 'k·∫ª ƒëa t√†i /38', chapter: '38', neon: 'none' },
                { id: generateId(), title: 't√¥i chuy·ªÉn v√†ng t·∫°i m·∫°t th·∫ø/383', chapter: '383', neon: 'none' },
                { id: generateId(), title: 'Tr·ªü V·ªÅ L√†m ƒê·∫°i L√£o Th·ªùi M·∫°t Th·∫ø/ 272', chapter: '272', neon: 'heart' },
                { id: generateId(), title: 'm·∫°t th·∫ø ƒë·∫°o t·∫∑c h√†nh 103', chapter: '103', neon: 'none' },
                { id: generateId(), title: 'M·∫°t th·∫ø si√™u c·∫•p h·ªá th·ªëng /236', chapter: '236', neon: 'none' },
                { id: generateId(), title: 'return survival 145', chapter: '145', neon: '3' },
                { id: generateId(), title: 'b·∫°n g√°i t√¥i l√† zombie 44', chapter: '44', neon: 'none' },
                { id: generateId(), title: 'ta c√≥ 1 t√† cung ƒëi·ªán v√†ng trong nh·ªØng ng√†y m·∫°t th·∫ø 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'gi·∫£i tho√°t 99 n9 ·ªü m·∫°t th·∫ø 129', chapter: '129', neon: 'none' },
                { id: generateId(), title: 'to√†n c·∫ßu bƒÉng phong ta ch·∫ø t·∫°o ph√≤ng an to√†n t·∫°i t·∫≠n th·∫ø 99', chapter: '99', neon: 'none' },
                { id: generateId(), title: 't√≠ch tr·ªØ 10 v·∫°n v·∫≠t t∆∞ tr∆∞·ªõc ng√†y t·∫≠n th·∫ø 202', chapter: '202', neon: 'none' },
                { id: generateId(), title: 'lu√¢n b√†n th·∫ø gi·ªõi 172.2', chapter: '172.2', neon: 'none' },
                { id: generateId(), title: 'ta c√≥ m·ªôt t√≤a m·∫°t th·∫ø m√™ cung 150', chapter: '150', neon: 'none' },
                { id: generateId(), title: 'm·∫°t th·∫ø ph√†m nh√¢n 531', chapter: '531', neon: 'none' },
                { id: generateId(), title: 'm·∫°t th·∫ø vi v∆∞∆°ng 32', chapter: '32', neon: 'none' },
                { id: generateId(), title: 'sau m·∫°t th·∫ø t√¥i tr·ªü th√†nh zombie', chapter: '', neon: 'none' },
                { id: generateId(), title: 'th·∫£m h·ªça ong ƒë·ªôc', chapter: '', neon: 'none' },
                { id: generateId(), title: 'li·ªáu nh√¢n lo·∫°i c√≥ c·∫ßn n·ªÅn vƒÉn minh h·∫≠u t·∫≠n th·∫ø kh√¥ng 4', chapter: '4', neon: 'none' },
                { id: generateId(), title: 'k·∫ª ƒëa t√†i', chapter: '38', neon: 'none', tags: 'm·∫°t th·∫ø', description: 'hay' }
            ]}
        ],
        
        'he-thong': [
            { subcategory: '', items: [
                { id: generateId(), title: 'Ta c√≥ th·ªÉ th·∫•y t·ªâ l·ªá th√†nh c√¥ng /114', chapter: '114', neon: 'none' },
                { id: generateId(), title: 'Toi vi·∫øt s√°ch ƒë·ªÉ thƒÉng c·∫•p /115.5', chapter: '115.5', neon: 'none' },
                { id: generateId(), title: 'Th∆∞∆°ng nh√¢n th√°nh th·∫ßn /63', chapter: '63', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫°i y lƒÉng nhi√™n 271', chapter: '271', neon: 'none' }
            ]},
            { subcategory: 'h·ªçc ƒë∆∞·ªùng', items: [
                { id: generateId(), title: 'Nhi·ªám v·ª• di·ªáu k√¨ /69', chapter: '69', neon: 'none' },
                { id: generateId(), title: 'Nhi·ªám v·ª• ƒë·ªùi th·ª±c /69', chapter: '69', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫°i thi√™n t√†i b·∫•t kh·∫£ chi·∫øn b·∫°i l√† ta 53', chapter: '53', neon: 'none' }
            ]},
            { subcategory: 'd·ªã gi·ªõi', items: [
                { id: generateId(), title: 'H√≥a th√¢n th√†nh c√° /6', chapter: '6', neon: 'none' },
                { id: generateId(), title: 'Chuy·ªÉn Sinh Th√†nh Li·ªÖu ƒê·ªôt Bi·∫øn / 97', chapter: '97', neon: 'none' },
                { id: generateId(), title: 'v·ª´a ch∆°i ƒë√£ c√≥ t√†i kho·∫£n c∆∞·ªùng gi·∫£/20', chapter: '20', neon: 'none' }
            ]}
        ],
        
        'xay-dung': [
            { subcategory: 'tu ti√™n', items: [
                { id: generateId(), title: 'hoa s∆°n t√°i xu·∫•t  149', chapter: '149', neon: 'none' },
                { id: generateId(), title: 'chuy·∫øn sinh v√†o th·∫ø gi·ªõi v√µ l√¢m 123', chapter: '123', neon: 'none' },
                { id: generateId(), title: 'd·ªã gi·ªõi ki·∫øn t·∫°o t·ªëi c∆∞·ªùng thi·∫øu l√¢m t·ª± 44', chapter: '44', neon: 'none' },
                { id: generateId(), title: 'v·∫°n c·ªï t·ªëi c∆∞·ªùng t√¥ng/382', chapter: '382', neon: 'heart' },
                { id: generateId(), title: 't·ªï s∆∞ gia ƒë·ª©ng ƒë·∫ßu l·ªãch s·ª≠ /201', chapter: '201', neon: 'none' },
                { id: generateId(), title: 'chi·∫øm c√°i ƒë·ªânh n√∫i l√†m ƒë·∫°i v∆∞∆°ng 145', chapter: '145', neon: 'none' },
                { id: generateId(), title: 'ƒëi√™n r·ªìi sao ba tu·ªïi l√†m ch∆∞·ªüng m√¥n 11', chapter: '11', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªá t·ª≠ c·ªßa ta ƒë·ªÅu l√† s√∫p b·ªù th·∫ßn 53', chapter: '53', neon: 'none' },
                { id: generateId(), title: 'chuy√™n gia c√¥n tr√πng t·∫°i ƒë∆∞·ªùng gia 63', chapter: '63', neon: 'none' }
            ]},
            { subcategory: 'v√µ thu·∫≠t', items: [
                { id: generateId(), title: 'b√°c sƒ© tr√πng sinh v·ªÅ murim 104', chapter: '104', neon: 'none' },
                { id: generateId(), title: 'ta c√≥ 1 s∆°n tr·∫°i /1023', chapter: '1023', neon: '3' }
            ]},
            { subcategory: 'h·∫ßm ng·ª•c', items: [
                { id: generateId(), title: 'ng∆∞·ªùi m·ªõi n√†y qu√° m·∫°nh 40', chapter: '40', neon: '2' },
                { id: generateId(), title: 'l√†m n√¥ng d√¢n trong t√≤a th√°p th·ª≠ th√°ch 95', chapter: '95', neon: '2' },
                { id: generateId(), title: 't√°i thi·∫øt h·∫ßm ng·ª•c/124', chapter: '124', neon: 'heart' },
                { id: generateId(), title: 'h·ªìi ·ª©c trong ng·ª•c t·ªëi 106', chapter: '106', neon: '4' }
            ]},
            { subcategory: 'd·ªã gi·ªõi', items: [
                { id: generateId(), title: 'b·∫≠c th√†y thi·∫øt k·∫ø ƒëi·ªÅn trang 78', chapter: '78', neon: 'none' },
                { id: generateId(), title: 'h·ªçc vi·ªán ph√° s·∫£n', chapter: '', neon: 'none' },
                { id: generateId(), title: 'anh h√πng giai c·∫•p t∆∞ s·∫£n 132', chapter: '132', neon: 'none' },
                { id: generateId(), title: 't·ª´ h√¥m nay ta b·∫Øt ƒë·∫ßu l√†m th√†nh ch·ªß 423', chapter: '423', neon: 'none' },
                { id: generateId(), title: 'th·∫£ vu n·ªØ ƒë√≥ ra 459', chapter: '459', neon: '3' },
                { id: generateId(), title: 'th·ª£ r√®n huy·ªÅn tho·∫°i 167', chapter: '167', neon: '2' },
                { id: generateId(), title: 'gacha v√¥ h·∫°n 144', chapter: '144', neon: 'none' },
                { id: generateId(), title: 'tr·ªü th√†nh hung th·∫ßn trong tr√≤ ch∆°i th·ªß th√†nh 12', chapter: '12', neon: 'none' },
                { id: generateId(), title: 'Hi·ªÅn nh√¢n t√°i sinh b·ªã b·ªè r∆°i ‚Äì T·∫°o ra ƒë·∫ø qu·ªëc qu·ª∑ vƒ© ƒë·∫°i m·∫°nh nh·∫•t trong khu r·ª´ng qu·ª∑ /13', chapter: '13', neon: 'none' },
                { id: generateId(), title: 'th∆∞a qu·ª∑ v∆∞∆°ng chugns ta b·ªôi thu r·ªìi 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'cu·ªôc s·ªëng thong dong ·ªü d·ªã gi·ªõi /13', chapter: '13', neon: 'none' },
                { id: generateId(), title: 'Cu·ªôc s·ªëng thi√™n ƒë∆∞·ªùng b·∫Øt ƒë·∫ßu v·ªõi Vua hang ƒë·ªông ~ Tr·ªü th√†nh ng∆∞·ªùi m·∫°nh nh·∫•t v·ªõi k·ªπ nƒÉng khai th√°c ‚Äì Chapter 18.1', chapter: '18.1', neon: 'none' },
                { id: generateId(), title: 'soara v√† ng√¥i nh√† cho qu√°i v·∫≠t 17', chapter: '17', neon: 'none' },
                { id: generateId(), title: 'isekai de tochi o katte noujou o tsukurou 6', chapter: '6', neon: 'none' }
            ]}
        ],
        
        'di-gioi': [
            { subcategory: '', items: [
                { id: generateId(), title: 'sau khi b·ªã ·ªëc s√™n truy s√°t 12', chapter: '12', neon: 'none' },
                { id: generateId(), title: 't√¥i ·ªü th·∫ø gi·ªõi kh√°c d·ª±a d·∫´m ph·ª• n·ªØ 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'ph√°t s√≥ng tr·ª±c ti·∫øp qu√©t ngang d·ªã gi·ªõi', chapter: '', neon: 'none' },
                { id: generateId(), title: 'th·ªëng lƒ©nh h·ªçc vi·ªán ch·ªâ b·∫±ng dao sashimi 47', chapter: '47', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªá nh·∫•t danh s·∫£n 178', chapter: '178', neon: 'none' },
                { id: generateId(), title: 'm·ªánh danh thu·∫≠t b√≥ng t·ªëi 4', chapter: '4', neon: 'none' },
                { id: generateId(), title: 'assassin de aru ore no sutetasu ga yuusha yori mo akiraka ni tsuyoi nodaga', chapter: '', neon: 'none' },
                { id: generateId(), title: 'yondome wa iyana shi zokusei majutsushi 28.1', chapter: '28.1', neon: 'none' },
                { id: generateId(), title: 'break blade', chapter: '', neon: 'none' },
                { id: generateId(), title: 'the new gate 2', chapter: '2', neon: 'none' }
            ]},
            { subcategory: 's·ªëng dai th√†nh huy·ªÅn tho·∫°i', items: [
                { id: generateId(), title: 'd√£ nh√¢n t√°i sinh 45', chapter: '45', neon: '3' },
                { id: generateId(), title: 'tr·ªü l·∫°i th·ªùi k√¨ ƒë·ªì ƒë√°', chapter: '', neon: 'none' }
            ]},
            { subcategory: 'v√µ thu·∫≠t', items: [
                { id: generateId(), title: 'thi√™n h·∫° ƒë·ªá nh·∫•t l·ªØ b·ªë 139', chapter: '139', neon: 'none' },
                { id: generateId(), title: 'kingdom v∆∞∆°ng gi·∫£ thi√™n h·∫°', chapter: '', neon: 'none' },
                { id: generateId(), title: 'con ƒë∆∞·ªùng c·ªßa v√µ gi·∫£ 241', chapter: '241', neon: 'none' },
                { id: generateId(), title: 'c∆°n b√£o ƒë·ªè 22', chapter: '22', neon: 'none' },
                { id: generateId(), title: 'player 63 (mangabtt)', chapter: '63', neon: '4' },
                { id: generateId(), title: 'h√†nh tr√¨nh ƒë·∫ø v∆∞∆°ng 169', chapter: '169', neon: '2' },
                { id: generateId(), title: 'nh√¢n tr√πng ƒë·∫°i chi·∫øn 83', chapter: '83', neon: '4' },
                { id: generateId(), title: 'qu√Ω t·ªôc l∆∞·ªùi bi·∫øng b·ªóng tr·ªü th√†nh thi√™n t√†i 138', chapter: '138', neon: 'none' },
                { id: generateId(), title: 'b·∫•t b·∫°i ch√¢n ma 165', chapter: '165', neon: 'none' },
                { id: generateId(), title: 'hardcore leveling warrior p1 xong', chapter: 'p1', neon: 'none' },
                { id: generateId(), title: 'hardcore leveling warrior p2 113', chapter: '113', neon: 'none' }
            ]},
            { subcategory: 'c√¥ng ngh·ªá', items: [
                { id: generateId(), title: 'ng∆∞·ªùi tr√°i ƒë·∫•t qu·∫£ th·∫≠t t√†n √°c/115', chapter: '115', neon: 'heart' },
                { id: generateId(), title: 'anh h√πng ta ko l√†m l√¢u r·ªìi', chapter: '', neon: 'none' },
                { id: generateId(), title: 'si√™u th·∫ßn ch·∫ø t·∫°p s∆∞ 66', chapter: '66', neon: 'none' },
                { id: generateId(), title: 'si√™u th·∫ßn c∆° gi·ªõi s∆∞ 186', chapter: '186', neon: 'none' },
                { id: generateId(), title: 'ta d·ª±a v√†o thu th·∫≠p v·∫≠t ph·∫©m ƒë·ªÉ tƒÉng c·∫•p 18', chapter: '18', neon: 'none' }
            ]},
            { subcategory: 'game', items: [
                { id: generateId(), title: 'k·∫ª th√°ch ƒë·∫•u 4', chapter: '4', neon: 'none' },
                { id: generateId(), title: 'ng∆∞·ªùi ch∆°i kh·∫Øc kim 48', chapter: '48', neon: '4' },
                { id: generateId(), title: 't√¥i ƒë·∫øn t·ª´ th·∫ø gi·ªõi tr√≤ ch∆°i 105', chapter: '105', neon: 'none' },
                { id: generateId(), title: 'tr√≤ ch∆°i h·ªá ch·ªØa tr·ªã c·ªßa t√¥i 14', chapter: '14', neon: 'none' },
                { id: generateId(), title: 'ƒëo·∫°t m·∫°ng b·∫±ng tr·ªã li·ªáu thu·∫≠t 144', chapter: '144', neon: 'none' },
                { id: generateId(), title: 'n·ªÅn vƒÉn minh nebula', chapter: '', neon: 'none' },
                { id: generateId(), title: 'qu·ª∑ troll m·∫°nh nh·∫•t th·∫ø gi·ªõi 147', chapter: '147', neon: 'none' },
                { id: generateId(), title: 'ng∆∞·ªùi ch∆°i m·∫°nh nh·∫•t h·ªìi quy l·∫ßn th·ª© 100 68', chapter: '68', neon: 'none' }
            ]},
            { subcategory: 'leo th√°p', items: [
                { id: generateId(), title: 'level 1 player /38', chapter: '38', neon: 'none' },
                { id: generateId(), title: 'Ng∆∞·ªùi ch∆°i kh√¥ng th·ªÉ thƒÉng c·∫•p /69', chapter: '69', neon: 'none' },
                { id: generateId(), title: 'Vua tr·ªôm m·ªô /411 (end)', chapter: '411', neon: 'heart' },
                { id: generateId(), title: 'T√≤a th√°p b√≠ ·∫©n', chapter: '', neon: 'none' },
                { id: generateId(), title: 'the dugeon master/113,5', chapter: '113.5', neon: 'heart' },
                { id: generateId(), title: 'm·∫Øc k·∫πt trong t√≤a th√°p th·ª≠ th√°ch 36', chapter: '36', neon: 'none' },
                { id: generateId(), title: 't√¥i l√† ng∆∞·ªùi ch∆°i leo th√°p m·ªôt m√¨nh 149', chapter: '149', neon: 'none' },
                { id: generateId(), title: 'm·∫≠t m√£ m√™ cung 92', chapter: '92', neon: 'none' }
            ]},
            { subcategory: 'fantasy (kh√°c lo√†i ng∆∞·ªùi)', items: [
                { id: generateId(), title: 'tr∆∞·ªüng gi√°m ng·ª•c tr√¥ng coi c√°c ma n·ªØ 51', chapter: '51', neon: 'none' },
                { id: generateId(), title: 'b·ªã c·∫Øn th√†nh v∆∞∆°ng gi·∫£ 34', chapter: '34', neon: 'none' },
                { id: generateId(), title: 'Kh√¥ c·ªët hi·ªáp sƒ© /78', chapter: '78', neon: 'heart' },
                { id: generateId(), title: 'ng∆∞·ªùi c√¥n tr√πng 8', chapter: '8', neon: 'none' },
                { id: generateId(), title: 'c∆∞∆°ng thi ti√™n sinh 51', chapter: '51', neon: 'none' },
                { id: generateId(), title: 'chuy·ªÉn sinh th√†nh goblin', chapter: '', neon: '3' },
                { id: generateId(), title: 'chuy·ªÉn sinh th√†nh li·ªÖu ƒë·ªôt bi·∫øn', chapter: '', neon: 'none' },
                { id: generateId(), title: 'chuy·ªÉn sinh th√†nh 1 c√°i c√¢y ƒÉn th·ªãt 66', chapter: '66', neon: 'none' },
                { id: generateId(), title: 'l√£o x√† tu ti√™n truy·ªán 58', chapter: '58', neon: '2' }
            ]},
            { subcategory: 'ph√©p thu·∫≠t', items: [
                { id: generateId(), title: '√°nh s√°ng cu·ªëi con ƒë∆∞·ªùng /148', chapter: '148', neon: 'heart' },
                { id: generateId(), title: 'v·ª£ t√¥i l√† qu·ª∑ v∆∞∆°ng 336', chapter: '336', neon: 'none' },
                { id: generateId(), title: 'th√°nh c√°i kh·ªâ g√¨ ƒë√¢y l√† s·ª©c m·∫°nh c·ªßa y h·ªçc hi·ªán ƒë·∫°i 77', chapter: '77', neon: 'none' }
            ]},
            { subcategory: 'th√†nh ph·ªë', items: [
                { id: generateId(), title: 't√¥i ·ªü th·∫ø gi·ªõi kh√°c d·ª±a d·∫´m ph·ª• n·ªØ 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'ƒëi sƒÉn t·ª± ƒë·ªông b·∫±ng ph√¢n th√¢n 103', chapter: '103', neon: 'none' },
                { id: generateId(), title: 'ta ng∆∞·ªùi ch·ªâ c·∫ßn nh√¨n th·∫•y thanh m√°u c√≥ th·ªÉ tr·ª´ng ph·∫°t th·∫ßn linh 13', chapter: '13', neon: 'none' },
                { id: generateId(), title: 'druid t·∫°i ga seoul 79', chapter: '79', neon: 'none' },
                { id: generateId(), title: 'seoul t·ª≠ linh s∆∞', chapter: '', neon: 'none' },
                { id: generateId(), title: 't√¥i l√† th·ª£ sƒÉn c√≥ kƒ© nƒÉng t·ª± s√°t sss 80', chapter: '80', neon: '4' },
                { id: generateId(), title: 'ti·ªÉu thuy·∫øt m·∫°ng do th·∫ßn vi·∫øt 3', chapter: '3', neon: 'none' },
                { id: generateId(), title: 'vua hi·ªáp sƒ© ƒë√£ tr·ªü l·∫°i v·ªõi 1 v·ªã th·∫ßn 132', chapter: '132', neon: 'none' },
                { id: generateId(), title: 'gi√°o s∆∞ gi√°n ƒëi·ªáp 78', chapter: '78', neon: 'none' }
            ]},
            { subcategory: 'ph·∫£n th·∫ßn', items: [
                { id: generateId(), title: 's·ªëng s√≥t trong tr√≤ ch∆°i v·ªõi t∆∞ c√°ch l√† m·ªôt cu·ªìng nh√¢n 19', chapter: '19', neon: '4' },
                { id: generateId(), title: 'C√≥ th·∫≠t ƒë√¢y l√† anh h√πng kh√¥ng /86', chapter: '86', neon: 'none' },
                { id: generateId(), title: 'Anh h√πng r√°c r∆∞·ªüi /113', chapter: '113', neon: 'heart' },
                { id: generateId(), title: 's·∫Øp xu·∫•t ng≈© th√¨ isekai 152', chapter: '152', neon: 'none' }
            ]},
            { subcategory: 'pokemon', items: [
                { id: generateId(), title: 'c·ª≠a h√†ng s·ªßng th√∫ si√™u th·∫ßn 45', chapter: '45', neon: 'none' },
                { id: generateId(), title: 'th·∫ßn s·ªßng ti·∫øn h√≥a 46', chapter: '46', neon: 'none' },
                { id: generateId(), title: 'ta ch·ªâ mu·ªën an tƒ©nh ch∆°i game 104', chapter: '104', neon: 'none' }
            ]},
            { subcategory: 'horror/DARK FANTASY', items: [
                { id: generateId(), title: 'thuy·∫øt ti·∫øn h√≥a c·ªßa lo√†i ng∆∞·ªùi 56', chapter: '56', neon: 'none' },
                { id: generateId(), title: 're monster 84', chapter: '84', neon: '4' },
                { id: generateId(), title: 'gannibal 109', chapter: '109', neon: 'none' }
            ]}
        ],
        
        'kinh-doanh': [
            { subcategory: 'ƒë√¥ th·ªã th·∫ßn h√†o', items: [
                { id: generateId(), title: 'ta l√† h√†n tam thi√™n 61', chapter: '61', neon: 'none' },
                { id: generateId(), title: 'm·ªói tu·∫ßn ta c√≥ m·ªôt ngh·ªÅ nghi·ªáp m·ªõi 545', chapter: '545', neon: 'none' },
                { id: generateId(), title: 'TA C√ì 90 T·ª∂ TI·ªÄN LI·∫æM C·∫®U! / 296', chapter: '296', neon: 'none' },
                { id: generateId(), title: 'tr·ªçng sinh kh√¥ng l√†m ch·∫°n v∆∞∆°ng  t√¥i m·ªôt m√¨nh n·∫°p game thƒÉng c·∫•p 63', chapter: '63', neon: 'none' },
                { id: generateId(), title: 't·ª´ h√¥m nay t√¥i l√† t·ª∑ ph√∫ 314 (manga toon)', chapter: '314', neon: 'none' },
                { id: generateId(), title: 'b·ªè l√†m simp ch√∫a ta c√≥ trong tay c·∫£ t·ªâ th·∫ßn h√†o 96', chapter: '96', neon: 'none' }
            ]},
            { subcategory: 'c·ªï ƒë·∫°i', items: [
                { id: generateId(), title: 'c·ª±c ph·∫©m b·∫°i gia t·ª≠ 17', chapter: '17', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªá nh·∫•t ho√†n kh·ªë 120', chapter: '120', neon: 'none' },
                { id: generateId(), title: 'ch√†ng r·ªÉ m·∫°nh nh·∫•t l·ªãch s·ª≠ 254', chapter: '254', neon: '4' },
                { id: generateId(), title: 'chuy·ªÉn sinh th√†nh ti√™u s∆∞ 118', chapter: '118', neon: 'none' },
                { id: generateId(), title: 'c√¥ng t·ª≠ bi·ªát t√∫ 217', chapter: '217', neon: 'none' },
                { id: generateId(), title: 'ta l√†m ki√™u h√πng t·∫°i d·ªã gi·ªõi 107', chapter: '107', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫°i t·∫ßn ta con trai t·∫ßn th·ªßy ho√†ng gi·∫øt ƒë·ªãch thƒÉng c·∫•p th√†nh th·∫ßn 113', chapter: '113', neon: '2' },
                { id: generateId(), title: 'kh√¥ng c·∫©n th·∫≠n, l∆∞u danh mu√¥n th·ªßa 151', chapter: '151', neon: 'none' },
                { id: generateId(), title: 'tr·ªçng sinh th√†nh th·∫ßn y th·ªùi tam qu·ªëc 160', chapter: '160', neon: '2' },
                { id: generateId(), title: 'ho·∫°n quan h·ªìi quy tr√≥c phong truy nguy·ªát 45', chapter: '45', neon: 'none' },
                { id: generateId(), title: 'Muscle joseon 68', chapter: '68', neon: 'none' },
                { id: generateId(), title: 'v∆∞∆°ng tri·ªÅu ƒëen t·ªëi joseon 90', chapter: '90', neon: 'none' }
            ]},
            { subcategory: 'hi·ªán ƒë·∫°i', items: [
                { id: generateId(), title: 'ta kh√¥ng mu·ªën tr√πng sinh ƒë√¢u 405', chapter: '405', neon: 'none' },
                { id: generateId(), title: 'tr√πng sinh tr·ªü v·ªÅ 1983 l√†m ph√∫ h√†o  258', chapter: '258', neon: 'none' },
                { id: generateId(), title: 'ta b·ªã k·∫πt t·∫°i c√πng 1 ng√†y 1000 nƒÉm 30', chapter: '30', neon: 'none' },
                { id: generateId(), title: 'tr·ªü th√†nh t√†i phi·ªát nh·ªù game 10', chapter: '10', neon: 'none' },
                { id: generateId(), title: 'ti·ªÉu thi·∫øu gia gia t·ªôc t√†i phi·ªát 40', chapter: '40', neon: 'none' },
                { id: generateId(), title: 'ƒë√¢y l√† lu·∫≠t 2', chapter: '2', neon: 'none' },
                { id: generateId(), title: 'c√¢u l·∫°c b·ªô tr∆∞·ªùng sinh 78', chapter: '78', neon: 'none' },
                { id: generateId(), title: 'ch√∫a t·ªÉ ƒë·ªìng ti·ªÅn 16', chapter: '16', neon: 'none' },
                { id: generateId(), title: 't·ª´ nh√¢n vi√™n v·∫°n nƒÉng tr·ªü th√†nh huy·ªÅn tho·∫°i 82', chapter: '82', neon: 'none' }
            ]}
        ],
        
        'trung-sinh': [
            { subcategory: '', items: [
                { id: generateId(), title: 'k√≠ s·ª± h·ªìi quy 74', chapter: '74', neon: 'none' },
                { id: generateId(), title: 'h·ªìi k√Ω c·ªßa huy·ªÅn tho·∫°i h·ªçc gi·∫£ 10', chapter: '10', neon: 'none' },
                { id: generateId(), title: 'to√†n tr√≠ ƒë·ªôc gi·∫£ 275', chapter: '275', neon: 'none' },
                { id: generateId(), title: 'nh√¢n v·∫≠t ngo√†i l·ªÅ ti·ªÉu thuy·∫øt 120', chapter: '120', neon: 'none' },
                { id: generateId(), title: 'chuy·ªÉn sinh ma ph√°p ƒë·∫∑c bi·ªát y·∫øu 254', chapter: '254', neon: 'none' },
                { id: generateId(), title: 'lu√¢n h·ªìi kh·ªën khi·∫øp 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'Con trai √∫t nh√† h·∫ßu t∆∞·ªõc /30', chapter: '30', neon: 'none' },
                { id: generateId(), title: 'to√†n tr√≠ ƒë·ªôc gi·∫£ /120', chapter: '120', neon: 'heart' },
                { id: generateId(), title: 'b·∫£n ch·∫•t c·ªßa chuy·ªÉn sinh 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'l√†m l·∫°i cu·ªôc ƒë·ªùi 43', chapter: '43', neon: 'none' },
                { id: generateId(), title: 'h·ªìi quy v√¥ gi√° tr·ªã 62', chapter: '62', neon: 'none' },
                { id: generateId(), title: 'v·ªõi kh·∫£ nƒÉng h·ªìi quy b·∫±ng c√°i ch·∫øt t√¥i thƒÉng c·∫•p trong th·∫ø gi·ªõi ƒë·∫ßy r·∫´y qu√°i v·∫≠t 15', chapter: '15', neon: 'none' },
                { id: generateId(), title: 's·ª± ra ƒë·ªùi c·ªßa 1 anh h√πng 38', chapter: '38', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫°i ca tr·ªü l·∫°i tu·ªïi 16 / 71', chapter: '71', neon: 'none' },
                { id: generateId(), title: 'thi·∫øt huy·∫øt ki·∫øm sƒ© h·ªìi quy', chapter: '', neon: 'none' },
                { id: generateId(), title: 'c·∫≠u √∫t nh√† c√¥ng t∆∞·ªõc l√† s√°t th·ªß h·ªìi quy / 78', chapter: '78', neon: 'none' },
                { id: generateId(), title: 'ngh·ªãch thi√™n c·∫£i m·ªánh 100', chapter: '100', neon: 'none' }
            ]}
        ],
        
        'tu-tien': [
            { subcategory: 'c√¥ng ph√°p op', items: [
                { id: generateId(), title: 'v√µ luy·ªán ƒë·ªânh phong/2520,2472', chapter: '2520', neon: 'heart' },
                { id: generateId(), title: 'nh·∫•t ƒë·∫≥ng gia ƒëinh/271', chapter: '271', neon: 'none' },
                { id: generateId(), title: 'v·∫°n t∆∞·ªõng chi v∆∞∆°ng/160', chapter: '160', neon: 'heart' },
                { id: generateId(), title: 'y√™u th·∫ßn k√≠ /450', chapter: '450', neon: 'heart' },
                { id: generateId(), title: 'tam th·ªën nh√¢n gian  114', chapter: '114', neon: 'none' },
                { id: generateId(), title: 'con trai c·ªßa gia t·ªôc nam cung th·∫ø gia 48', chapter: '48', neon: 'none' }
            ]},
            { subcategory: 'tr√πng sinh', items: [
                { id: generateId(), title: 'th·∫≠p ƒë·∫°i ho√†ng ƒë·∫ø ƒë·ªÅu l√† ƒë·ªì ƒë·ªá c·ªßa ta 40', chapter: '40', neon: 'none' },
                { id: generateId(), title: 'b·ªïn t·ªÅ tu ch√≠nh l√† ti·ªán ƒë·∫°o 215', chapter: '215', neon: 'none' },
                { id: generateId(), title: 'v·ª£ t√¥i v√† t√¥i th·ªëng tr·ªã tam gi·ªõi 92', chapter: '92', neon: 'none' },
                { id: generateId(), title: 'b·∫Øt ƒë·∫ßu qu·∫≠t kh·ªüi t·ª´ l√†m l√¥ ƒë·ªânh 62', chapter: '62', neon: 'none' },
                { id: generateId(), title: 'v·∫°n c·ªï ch√≠ t√¥n', chapter: '', neon: 'none' },
                { id: generateId(), title: 'ng·ª± linh th·∫ø gi·ªõi 549', chapter: '549', neon: 'none' },
                { id: generateId(), title: 'thanh mai tr√∫c m√£ c·ªßa ƒë·ªá nh·∫•t thi√™n h·∫° / 58', chapter: '58', neon: '3' }
            ]},
            { subcategory: 'h·ªá th·ªëng', items: [
                { id: generateId(), title: 'ta ·ªü nh√† 100 nƒÉm ra ngo√†i ƒë√£ v√¥ ƒë·ªãch 30', chapter: '30', neon: 'none' },
                { id: generateId(), title: 'l·ª±a ch·ªçn th·∫ßn c·∫•p ta kh√¥ng theo s√°o l·ªô m·∫°nh l√™n  110', chapter: '110', neon: 'none' },
                { id: generateId(), title: 'nh·∫•t chi√™u li√™n v√¥ ƒë·ªãch tu ch√¢n gi·ªõi 28', chapter: '28', neon: 'none' },
                { id: generateId(), title: 't·ªëi c∆∞·ªùng ph·∫£n s√°o l·ªô h·ªá th·ªëng /635', chapter: '635', neon: 'heart' },
                { id: generateId(), title: 'si√™u ƒë·∫°o th·∫ßn thu·∫≠t 115', chapter: '115', neon: 'none' },
                { id: generateId(), title: 'Tr·ªçng sinh th√†nh c·∫≠u v√†ng t·∫°i d·ªã th·∫ø 251', chapter: '251', neon: 'none' },
                { id: generateId(), title: 'ta mu·ªën an tƒ©nh h·ªá th·ªëng l·∫°i b·∫Øt ta t√¨m ch·∫øt 75', chapter: '75', neon: 'none' },
                { id: generateId(), title: 'thi√™n ƒë·∫°o ƒë·ªì th∆∞ qu√°n 247', chapter: '247', neon: '4' },
                { id: generateId(), title: 'm·ªü ƒë·∫ßu n·ªØ ƒë·∫ø l√†m ch√≠nh cung 31', chapter: '31', neon: 'none' },
                { id: generateId(), title: 'thi√™n ma phi thƒÉng truy·ªán 123', chapter: '123', neon: 'none' },
                { id: generateId(), title: 'thi√™n ph√∫ c·ªßa ng∆∞∆°i gi·ªù l√† c·ªßa ta 63', chapter: '63', neon: 'none' },
                { id: generateId(), title: 'ta d√πng s√°ch gi·∫£i tr√≠ th√†nh th√°nh nh√¢n 128', chapter: '128', neon: 'none' },
                { id: generateId(), title: 'h·ªá th·ªëng thƒÉng c·∫•p ƒëi√™n cu·ªìng 105', chapter: '105', neon: 'none' }
            ]},
            { subcategory: 'v√µ ƒë·∫°o', items: [
                { id: generateId(), title: 'c·ª≠u thi√™n ki·∫øm ph√°p 46', chapter: '46', neon: 'none' },
                { id: generateId(), title: 'b·∫Øc ki·∫øm giang h·ªì 41', chapter: '41', neon: 'none' },
                { id: generateId(), title: 'm√¨nh ta th√¥n ph·ªá thi√™n ƒë·ªãa  17', chapter: '17', neon: 'none' },
                { id: generateId(), title: 'm·∫°nh nh·∫•t l·ªãch s·ª≠ 9', chapter: '9', neon: 'none' },
                { id: generateId(), title: 'thƒÉng c·∫•p v√¥ h·∫°n trong murim 149', chapter: '149', neon: 'none' },
                { id: generateId(), title: 'ma hi·ªáp c√¥n lu√¢n 2', chapter: '2', neon: 'none' },
                { id: generateId(), title: 't·ª≠ th·∫ßn phi√™u nguy·ªát 94', chapter: '94', neon: '3' },
                { id: generateId(), title: 'cu·ªìng ma t√°i th·∫ø 165.1', chapter: '165.1', neon: 'none' },
                { id: generateId(), title: 'phi l√¥i ƒë·∫°o thu·∫≠t 211', chapter: '211', neon: 'none' },
                { id: generateId(), title: 'ƒëao hoang t·ª© thi·∫øu gia 202', chapter: '202', neon: 'none' },
                { id: generateId(), title: 'c√¢u chuy·ªán sinh t·ªìn c·ªßa ki·∫øm v∆∞∆°ng 61', chapter: '61', neon: 'none' }
            ]},
            { subcategory: 'ƒë√∫ng ch·∫•t tu ti√™n', items: [
                { id: generateId(), title: 'b·ªô thi√™n ca 6', chapter: '6', neon: 'none' },
                { id: generateId(), title: 'linh kh∆∞ 11', chapter: '11', neon: 'none' },
                { id: generateId(), title: 'tr∆∞·ªùng ca h√†nh', chapter: '', neon: 'none' },
                { id: generateId(), title: 'khu ma l·ª•c 7', chapter: '7', neon: 'none' },
                { id: generateId(), title: '8c·ªï ch√¢n nh√¢n 2', chapter: '2', neon: '2' },
                { id: generateId(), title: 'ng√£ d·ª•c phong thi√™n 2', chapter: '2', neon: 'none' }
            ]}
        ],
        
        'do-thi': [
            { subcategory: '', items: [
                { id: generateId(), title: 'huy·∫øt ma nh√¢n 48', chapter: '48', neon: 'none' },
                { id: generateId(), title: 'di·ªáu th·ªß cu·ªìng y 310', chapter: '310', neon: 'none' },
                { id: generateId(), title: 'ƒë√¥ th·ªã c·ª±c ph·∫©m y th·∫ßn 240', chapter: '240', neon: 'none' },
                { id: generateId(), title: 'To√†n ch·ª©c Ph√°p s∆∞ /405', chapter: '405', neon: 'none' },
                { id: generateId(), title: 'tu ti√™n gi·∫£ ƒë·∫°i chi·∫øn si√™u nƒÉng l·ª±c 44', chapter: '44', neon: 'none' },
                { id: generateId(), title: 'ƒê·∫°i v∆∞∆°ng tha m·∫°ng/582', chapter: '582', neon: 'heart' },
                { id: generateId(), title: 'song tu ƒë·∫°o l·ªØ c·ªßa t√¥i 82', chapter: '82', neon: 'none' },
                { id: generateId(), title: 'Tr·ªçng sinh ƒë√¥ th·ªã tu ti√™n t√¥n /774', chapter: '774', neon: 'heart' },
                { id: generateId(), title: 'tr·ªçng sinh ƒë·ªãa c·∫ßu ti√™n t√¥n /153', chapter: '153', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªá nh·∫•t ng∆∞·ªùi ·ªü r·ªÉ /101', chapter: '101', neon: 'none' },
                { id: generateId(), title: 'tr√™n ng∆∞·ªùi ta c√≥ 1 con r·ªìng 547', chapter: '547', neon: 'none' },
                { id: generateId(), title: 'tu ch√¢n n√≥i chuy·ªán phi·∫øm qu√¢n/86', chapter: '86', neon: 'none' },
                { id: generateId(), title: 'ti√™n gi·ªõi quy lai 62', chapter: '62', neon: 'none' },
                { id: generateId(), title: 'tu ti√™n tr·ªü v·ªÅ v∆∞·ªùn tr∆∞·ªùng /367', chapter: '367', neon: 'none' },
                { id: generateId(), title: 'ti√™n t√¥n l·∫°c v√¥ c·ª±c/158', chapter: '158', neon: 'none' },
                { id: generateId(), title: 'th·∫ßn c·∫•p ng∆∞ phu/226', chapter: '226', neon: 'none' },
                { id: generateId(), title: 'th·∫ßn c·∫•p th·∫•u th·ªã 11', chapter: '11', neon: 'none' },
                { id: generateId(), title: 'to√†n c·∫ßu cao v√µ 334', chapter: '334', neon: 'none' },
                { id: generateId(), title: 'Th·∫ßn chi·∫øn tranh /85', chapter: '85', neon: 'none' },
                { id: generateId(), title: 'ki·∫øm tu imba nh·∫•t qu·∫£ ƒë·∫•t 23', chapter: '23', neon: 'none' },
                { id: generateId(), title: 'kh·∫Øc kim ƒë·∫°i l√£o 20', chapter: '20', neon: 'none' },
                { id: generateId(), title: 'tr·∫•n qu·ªëc th·∫ßn t·∫ø 233', chapter: '233', neon: 'none' },
                { id: generateId(), title: 'v∆∞∆°ng gi·∫£ sƒÉn m·ªìi 119', chapter: '119', neon: 'none' }
            ]}
        ],
        
        'phan-dien': [
            { subcategory: '', items: [
                { id: generateId(), title: 'tr·∫£m nguy·ªát', chapter: '', neon: 'none' },
                { id: generateId(), title: 'ta tr·ªùi sinh ƒë√£ l√† nh√¢n v·∫≠t ph·∫£n di·ªán 112', chapter: '112', neon: '3' },
                { id: generateId(), title: 's·ª± tr·ªü l·∫°i c·ªßa anh h√πng di·ªát th·∫ø/64', chapter: '64', neon: 'none' },
                { id: generateId(), title: 'K·∫ª sƒÉn anh h√πng /100', chapter: '100', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫°i qu·∫£n gia l√† ma ho√†ng /328', chapter: '328', neon: 'heart' },
                { id: generateId(), title: 'tao l√† √°c nh√¢n 74', chapter: '74', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªì ƒë·ªá c·ªßa ta ƒë·ªÅu l√†  ƒë·∫°i ph·∫£n ph√°i 317', chapter: '317', neon: '4' },
                { id: generateId(), title: 's∆∞ t√¥n ngh·ªãch ƒë·ªì n√†y kh√¥ng ph·∫£i l√† th√°nh t·ª≠ 148', chapter: '148', neon: 'none' },
                { id: generateId(), title: 'Lu√¢n H·ªìi √Åc Nh√¢n 86', chapter: '86', neon: 'none' },
                { id: generateId(), title: 'ta l√† nh√¢n v·∫≠t ph·∫£n di·ªán ƒë·∫°i thi·∫øu gia 35', chapter: '35', neon: 'none' },
                { id: generateId(), title: 'Cu·ªìng Ma T√°i Th·∫ø 63', chapter: '63', neon: '3' },
                { id: generateId(), title: 'ta! v√¥ ƒë·ªãch ƒë·∫°i ph·∫£n ph√°i 48', chapter: '48', neon: 'none' },
                { id: generateId(), title: 'ta kh√¥ng ph·∫£i nh√¢n v·∫≠t ph·∫£n di·ªán 102', chapter: '102', neon: 'none' },
                { id: generateId(), title: 'ng∆∞·ªùi ·ªü r·ªÉ b·ªã √©p th√†nh ph·∫£n di·ªán 141', chapter: '141', neon: 'none' },
                { id: generateId(), title: 'kh·ªüi t·∫°o nh√¢n v·∫≠t ph·∫£n di·ªán 121', chapter: '121', neon: 'none' },
                { id: generateId(), title: 'danh s√°ch k·∫ª ph·∫£n di·ªán 146', chapter: '146', neon: 'none' },
                { id: generateId(), title: 'c√¥ng t·ª≠ th·ª±c s·ª± qu√° ch√≠nh nghƒ©a 20', chapter: '20', neon: 'none' },
                { id: generateId(), title: 'nh√¢n v·∫≠t ph·∫£n di·ªán n√†y c√≥ ch√∫t l∆∞∆°ng t√¢m nh∆∞ng ko nhi·ªÅu 259', chapter: '259', neon: 'none' },
                { id: generateId(), title: 'nh√¢n v·∫≠t ph·∫£n di·ªán ƒë·∫°i s∆∞ huynh t·∫•t c·∫£ c√°c s∆∞ mu·ªôi ƒë·ªÅu l√† b·ªánh ki·ªÅu 37', chapter: '37', neon: 'none' },
                { id: generateId(), title: 'k·∫ª lu√¥n k·∫øt th√∫c b·∫±ng bad ending 6', chapter: '6', neon: '2' },
                { id: generateId(), title: 'ma gi√°o gi√°o ch·ªß t√°i xu·∫•t gian h·ªì 8', chapter: '8', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫ø ch·∫ø di·ªát vong 31', chapter: '31', neon: 'none' },
                { id: generateId(), title: 'k·∫ª h·ªça s√°t t·ª≠ t√π kazami tazura 11', chapter: '11', neon: 'none' },
                { id: generateId(), title: 'l·ª•c nh√¢n th·∫≠p t·ª± gi√° 211', chapter: '211', neon: '3' },
                { id: generateId(), title: 'c√¥ng l√Ω t√†n b·∫°0 28', chapter: '28', neon: 'none' },
                { id: generateId(), title: 'maria ƒëo·∫°n t·ªôi 6', chapter: '6', neon: 'none' },
                { id: generateId(), title: 'lu√¢n h·ªìi √°c nh√¢n 84', chapter: '84', neon: 'none' },
                { id: generateId(), title: 'Fukushuu wo koinegau saikyou yuusha wa,yami no chikara de senmetsu musou suru   58', chapter: '58', neon: 'none' },
                { id: generateId(), title: 'Hazure Waku No Joutai Ijou Skill De Saikyou Ni Natta Ore Ga Subete Wo Juurin Suru Made  24', chapter: '24', neon: 'none' },
                { id: generateId(), title: 'k·∫ª ƒë∆∞·ª£c tri·ªáu h·ªìi t·ªõi th·∫ø gi·ªõi gi·∫£ t∆∞·ªüng v√¥ s·ªë l·∫ßn 29', chapter: '29', neon: 'none' },
                { id: generateId(), title: 'B·ªã ph·∫£n b·ªôi b·ªüi ƒë·ªìng ƒë·ªôi v√† s·ªü h·ªØu gacha kh√¥ng gi·ªõi h·∫°n 174', chapter: '174', neon: 'none' }
            ]}
        ],
        
        'manh': [
            { subcategory: '', items: [
                { id: generateId(), title: 'ng∆∞·ªùi tr√™n v·∫°n ng∆∞·ªùi /137', chapter: '137', neon: 'none' },
                { id: generateId(), title: 'nguy√™n lai ta l√† tu ti√™n ƒë·∫°i l√£o 92', chapter: '92', neon: 'none' },
                { id: generateId(), title: 'ta b·ªã nh·ªët t·∫°i c√πng m·ªôt ng√†y m∆∞·ªùi v·∫°n nƒÉm 239', chapter: '239', neon: 'none' },
                { id: generateId(), title: 'thi√™n h·∫° ƒë·ªá nh·∫•t nh√¢n 74', chapter: '74', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªânh c·∫•p khi v·∫≠n,l·∫∑ng l·∫Ω tu luy·ªán ng√†n nƒÉm 50', chapter: '50', neon: 'none' },
                { id: generateId(), title: 'mashle:muscles and magic 36', chapter: '36', neon: 'none' },
                { id: generateId(), title: 'gun x clover 17', chapter: '17', neon: 'none' },
                { id: generateId(), title: 'v√¥ ƒë·ªãch t·ª´ c∆∞·ª°ng h√¥n ma n·ªØ 31', chapter: '31', neon: 'none' },
                { id: generateId(), title: 'ta v√¥ ƒë·ªãch l√∫c n√†o 185', chapter: '185', neon: 'none' },
                { id: generateId(), title: 'G·∫≠y g·ªó c·∫•p 99+ /119', chapter: '119', neon: 'none' },
                { id: generateId(), title: 'ch∆∞·ªüng m√¥n khi√™m t·ªën ch√∫t 27', chapter: '27', neon: 'none' },
                { id: generateId(), title: 'm·∫°nh nh·∫•t l·ªãch s·ª≠  274', chapter: '274', neon: 'none' }
            ]}
        ],
        
        'vo-han-luu': [
            { subcategory: '', items: [
                { id: generateId(), title: 'ta l√† t√† ƒë·∫ø/356', chapter: '356', neon: 'none' },
                { id: generateId(), title: 'ta qu√©t ph√≥ b·∫£n ·ªü kh·∫Øp th·∫ø gi·ªõi 12', chapter: '12', neon: 'none' },
                { id: generateId(), title: 'v√¥ h·∫°n kh·ªßng b·ªë 2', chapter: '2', neon: 'none' },
                { id: generateId(), title: 'v·∫°n tra tri·ªÅu ho√†ng 269', chapter: '269', neon: 'none' },
                { id: generateId(), title: 'gian phi c·ªßa v·∫°n tra tri·ªÅu ho√†ng r·∫•t b·∫≠n(fuhuz)', chapter: '', neon: 'none' },
                { id: generateId(), title: 'Xuy√™n nhanh mau r·ª≠a t·ªôi cho nv ph·∫£n di·ªán', chapter: '', neon: 'none' },
                { id: generateId(), title: 'n·ªØ ph·ª• b√¨nh tƒ©nh ch√∫t', chapter: '', neon: 'none' },
                { id: generateId(), title: 'h·∫ø th·ªëng ch·∫ø t·∫°o n·ªØ th·∫ßn', chapter: '', neon: 'none' }
            ]}
        ],
        
        'quy-than': [
            { subcategory: '', items: [
                { id: generateId(), title: 'th·ª£ c·∫Øt t√≥c cho di√™m v∆∞∆°ng 11', chapter: '11', neon: 'none' },
                { id: generateId(), title: 'ng√†y t√¥i sinh ra b√°ch qu·ª∑ d·∫° h√†nh tuy·∫øt thi h·ªô ƒë·∫°o 3', chapter: '3', neon: 'none' },
                { id: generateId(), title: 'd∆∞·ª£c sƒ© k√¨ l·∫° b·ªánh nh√¢n c·ªßa t√¥i ƒë·ªÅu r·∫•t kh·ªßng b·ªë 84', chapter: '84', neon: 'none' },
                { id: generateId(), title: 'con qu·ª∑ ƒë√£ s·∫µn s√†ng cho b·ª≠a t·ªëi 19', chapter: '19', neon: 'none' },
                { id: generateId(), title: 't·∫° u thi√™n s∆∞ 19', chapter: '19', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫°i t∆∞·ª£ng v√¥ h√¨nh 153', chapter: '153', neon: 'none' },
                { id: generateId(), title: 'qu·ª∑ b√≠ chi ch·ªß', chapter: '', neon: 'none' },
                { id: generateId(), title: 'nh·∫•t nh√¢n chi h·∫°', chapter: '', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªãa s√°t 72 ph√©p th·∫ßn th√¥ng 17', chapter: '17', neon: 'none' },
                { id: generateId(), title: 'truy·ªÅn v√µ 220', chapter: '220', neon: 'none' },
                { id: generateId(), title: 'ta ·ªü ƒë·ªãa ph·ªß m·ªü h·∫≠u cung 95', chapter: '95', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫•u y·ªÉm th·∫ßn 369', chapter: '369', neon: '2' }
            ]},
            { subcategory: 'v√¥ h·∫°n l∆∞u', items: [
                { id: generateId(), title: 'tr·ªü th√†nh th·∫ßn ch·ªß CTHULHU 19', chapter: '19', neon: 'none' },
                { id: generateId(), title: 'b·∫Øt ƒë·∫ßu t·ª´ c·ª≠u ƒë·∫ßu ƒëi·ªÉu 114', chapter: '114', neon: 'none' },
                { id: generateId(), title: 'ng∆∞·ªùi ƒë∆∞a th∆∞ v√¥ h·∫°n 245', chapter: '245', neon: 'none' },
                { id: generateId(), title: 'b·∫Øt ƒë·∫ßu v·ªõi trƒÉm v·∫°n minh t·ªá 49', chapter: '49', neon: 'none' },
                { id: generateId(), title: 'th·∫ßn tr√≤ ch∆°i d·ª•c v·ªçng 76', chapter: '76', neon: 'none' }
            ]},
            { subcategory: 'mindbreak', items: [
                { id: generateId(), title: 't√¨nh m·∫π bao la 46', chapter: '46', neon: 'none' }
            ]}
        ],
        
        'ngon': [
            { subcategory: '', items: [
                { id: generateId(), title: 'd·∫°y h∆∞ ƒë·ªì ƒë·ªá ph·∫£n di·ªán r ph·∫£i l√†m sao ƒë√¢y 21', chapter: '21', neon: 'none' },
                { id: generateId(), title: 'l·ªõ ng·ªõ v·ªõ ph·∫£i t√¨nh y√™u 107', chapter: '107', neon: 'none' },
                { id: generateId(), title: 't√¨m l·∫°i camelia 8', chapter: '8', neon: 'none' },
                { id: generateId(), title: 'oan gia chung nh√† 80', chapter: '80', neon: 'none' },
                { id: generateId(), title: 'm·ªôt ng√†y n·ªç t√¥i b·ªóng tr·ªü th√†nh c√¥ng ch√∫a 2', chapter: '2', neon: 'none' },
                { id: generateId(), title: 'ch√†o nh√© ko l√†m th√¥ng gia n·ªØa ƒë√¢u 67', chapter: '67', neon: 'none' },
                { id: generateId(), title: 'N·∫øu L√† Ph·∫£n Di·ªán, Li·ªáu T√¥i S·∫Ω Ch·∫øt? 21', chapter: '21', neon: 'none' },
                { id: generateId(), title: 'b√† x√£ nh√† t√¥i ƒë·∫øn t·ª´ ng√†n nƒÉm tr∆∞·ªõc 122', chapter: '122', neon: 'none' },
                { id: generateId(), title: 'toi c√≥ √¥ng ch·ªìng hay ghen 46', chapter: '46', neon: 'none' },
                { id: generateId(), title: 'l·ª´a t√¨nh 9', chapter: '9', neon: 'none' },
                { id: generateId(), title: 'c∆∞·ª°ng ƒëo·∫°t n√†ng d√¢u 2', chapter: '2', neon: 'none' }
            ]},
            { subcategory: 'B√°n ecchi', items: [
                { id: generateId(), title: 'yumeochi m∆° v·ªÅ nh·ªØng ng√†y ta y√™u nhau 22', chapter: '22', neon: 'none' },
                { id: generateId(), title: 'ph√≤ng c·ªßA T√îI li√™n k·∫øt v·ªõi h·∫ßm ng·ª•c 17', chapter: '17', neon: 'none' },
                { id: generateId(), title: 'ch·ªã g√°i t√¥i l√† ƒë·∫°i minh tinh 16', chapter: '16', neon: 'none' },
                { id: generateId(), title: 'h·ªçc t·ª∑ ƒë·ª´ng livestream n·ªØa 3', chapter: '3', neon: 'none' },
                { id: generateId(), title: 'l√†m sao ƒë·ªÉ ch·∫°y tr·ªën d√†n h·∫≠u cung', chapter: '', neon: 'none' },
                { id: generateId(), title: 'R√ï R√ÄNG T√îI CH·ªà MU·ªêN CH∆†I GAME, XIN ƒê·ª™NG K√âO T√îI V√ÄO Lƒ®NH V·ª∞C T√åNH Y√äU', chapter: '', neon: 'none' },
                { id: generateId(), title: 'l√†m sao ƒë·ªÉ ch·∫°y tr·ªën d√†n harem 180', chapter: '180', neon: 'none' },
                { id: generateId(), title: 'h·∫Øc ƒë·∫°o n√†y c√≥ ch√∫t manh', chapter: '', neon: 'none' },
                { id: generateId(), title: 'hantsu x torasshu', chapter: '', neon: '3' },
                { id: generateId(), title: 's·ª± quy·∫øn r≈© c·ªßa g√°i 2.5d', chapter: '', neon: 'none' },
                { id: generateId(), title: 'mato seihei no slave 124', chapter: '124', neon: '3' },
                { id: generateId(), title: 'ƒë·∫øn ƒë√¢y n√†o ma ph√°p thi·∫øu n·ªØ 6', chapter: '6', neon: 'none' },
                { id: generateId(), title: 'musume no shinshitsu 5', chapter: '5', neon: 'none' },
                { id: generateId(), title: 'qu√°n cafe n·ªØ th·∫ßn  109', chapter: '109', neon: 'none' }
            ]},
            { subcategory: 'tu ti√™n', items: [
                { id: generateId(), title: 'b·∫Øt ƒë·∫ßu ch·∫•n kinh n·ªØ ƒë·∫ø l√£o b√† ta v√¥ ƒë·ªãch 49', chapter: '49', neon: 'none' },
                { id: generateId(), title: 'tr·ªùi sinh m·ªã c·ªët ta b·ªã ƒë·ªì nhi yandere ƒë·ªÉ m·∫Øt t·ªõi 29', chapter: '29', neon: 'none' },
                { id: generateId(), title: 'My Harem Grew So Large, I Was Forced to Ascend / 55', chapter: '55', neon: 'none' },
                { id: generateId(), title: 'VAI √ÅC S∆Ø T√îN MANG THEO C√ÅC ƒê·ªí ƒê·ªÜ V√î ƒê·ªäCH THI√äN H·∫† 50', chapter: '50', neon: 'none' },
                { id: generateId(), title: 'tr∆∞·ªõc khi v√¥ ƒë·ªãch ta n·ª£ t√¨nh qu√° nhi·ªÅu 22', chapter: '22', neon: 'none' },
                { id: generateId(), title: 'ma v∆∞∆°ng tr·ªü l·∫°i/48', chapter: '48', neon: 'none' },
                { id: generateId(), title: 'C·∫®U L∆Ø∆†NG TH√ÄNH CHU·∫®N TH√ÅNH, TA ƒê∆Ø·ª¢C N·ªÆ ƒê·∫æ TRI·ªÜU HO√ÅN 6', chapter: '6', neon: 'none' },
                { id: generateId(), title: 'h·∫£o ƒë·ªì nhi h√£y tha cho vi s∆∞ 76', chapter: '76', neon: 'none' },
                { id: generateId(), title: 'ƒë·ªì ƒë·ªá c·ªßa ta ƒë·ªÅu l√† n·ªØ ma ƒë·∫ßu 190 (mangatoon)', chapter: '190', neon: 'none' },
                { id: generateId(), title: 'tu luy·ªán th√†nh ti√™n ta ch·ªâ mu·ªën nu√¥i n·ªØ ƒë·ªì ƒë·ªá 5', chapter: '5', neon: 'none' },
                { id: generateId(), title: 'ta d∆∞·ª°ng ra nh√¢n v·∫≠t ph·∫£n di·ªán l√† n·ªØ ƒë·∫ø yandere 11', chapter: '11', neon: 'none' },
                { id: generateId(), title: 'to√†n b·ªô tu ch√¢n gi·ªõi mu·ªôi t·ª≠ ƒë·ªÅu mu·ªën b·∫Øt ta', chapter: '', neon: 'none' },
                { id: generateId(), title: 'tinh linh √°m ƒë·∫ø 260', chapter: '260', neon: '4' },
                { id: generateId(), title: 'ta n·∫±m v√πng t·∫°i ma gi·ªõi 87', chapter: '87', neon: 'none' },
                { id: generateId(), title: 'tuy·ªát s·∫Øc ƒë·∫°o l·ªØ ƒë·ªÅu n√≥i ng√¥ ho√†ng th·ªÉ ch·∫•t v√¥ ƒë·ªãch 122', chapter: '122', neon: 'none' }
            ]}
        ],
        
        'ecchi': [
            { subcategory: '', items: [
                { id: generateId(), title: 'senki survival saga:isekai no unmei o kaketa mujintou fujun iseikouyuu', chapter: '', neon: '4' },
                { id: generateId(), title: '7 n√†ng c√¥ng ch√∫a ng·ªß say', chapter: '', neon: '2' },
                { id: generateId(), title: 'reincarnation coliseum 34 (sechbn)', chapter: '34', neon: '4' },
                { id: generateId(), title: 'dead tube 109', chapter: '109', neon: '2' },
                { id: generateId(), title: 'tengoku no masaic', chapter: '', neon: 'none' },
                { id: generateId(), title: 'kono ko shirimasenka', chapter: '', neon: 'none' },
                { id: generateId(), title: 'murata kouji', chapter: '', neon: 'none' },
                { id: generateId(), title: 'ƒë·∫•u tr∆∞·ªùng chuy·ªÉn sinh 14', chapter: '14', neon: '2' },
                { id: generateId(), title: 'ƒë·ªôc l√† dungeon 12.5', chapter: '12.5', neon: 'none' },
                { id: generateId(), title: 'healer b√°o th√π 48.5', chapter: '48.5', neon: 'none' },
                { id: generateId(), title: 'ch√∫ng t√¥i ƒë√£ l√†m ƒë∆∞·ª£c r·ªìi 77', chapter: '77', neon: 'none' },
                { id: generateId(), title: 'rosen garten saga 28', chapter: '28', neon: 'none' },
                { id: generateId(), title: 'destiny lovers 101', chapter: '101', neon: 'none' },
                { id: generateId(), title: 'destiny lovers 2  : 37', chapter: '37', neon: 'none' },
                { id: generateId(), title: 'home room 63', chapter: '63', neon: 'none' },
                { id: generateId(), title: 'nozoki ana 35', chapter: '35', neon: 'none' },
                { id: generateId(), title: 'sex and dungeon 10', chapter: '10', neon: 'none' },
                { id: generateId(), title: 'ushiro no shoumen kamui san 40', chapter: '40', neon: 'none' },
                { id: generateId(), title: 'd√¢m h√πng end 40', chapter: '40', neon: 'none' },
                { id: generateId(), title: 'isekai de tochi o katte noujou o tsukurou', chapter: '', neon: 'none' },
                { id: generateId(), title: 't√°i sinh th√†nh qu√Ω t·ªôc v·ªõi kƒ© nƒÉng appraisal', chapter: '', neon: 'none' },
                { id: generateId(), title: 'oukoku e tsuzuku michi dorei kenshi no nariagari eiy≈©tan 34', chapter: '34', neon: 'none' },
                { id: generateId(), title: 'zutto √¥tkonoko da to omette ita gakitaishou ga  onnanoko deshita 10', chapter: '10', neon: 'none' },
                { id: generateId(), title: 'karami zakari:boku no honto to kimi no uso 3', chapter: '3', neon: 'none' },
                { id: generateId(), title: 'MUKUCHINA MIYASHITA-SAN NO SHIKIYOKU CHANNEL 3.2', chapter: '3.2', neon: 'none' },
                { id: generateId(), title: 'hentai ouji to warawanai neko 34.5', chapter: '34.5', neon: 'none' },
                { id: generateId(), title: 'Kekkon Yubiwa Monogatari  9', chapter: '9', neon: 'none' },
                { id: generateId(), title: 'kaguya sama wa kokurasetai DOUJINSHI 18', chapter: '18', neon: 'none' },
                { id: generateId(), title: 'himekishi ga classmate', chapter: '', neon: 'none' },
                { id: generateId(), title: 'mauo no hajimekata 43', chapter: '43', neon: 'none' },
                { id: generateId(), title: 'i tried asking in dogeza 24', chapter: '24', neon: 'none' },
                { id: generateId(), title: 'ho√°n ki·∫øm tr·ªçng', chapter: '', neon: 'none' },
                { id: generateId(), title: 'dungeon ni hisomu yandere na kanojo ni ore wa nando mo korosareru / 26', chapter: '26', neon: 'none' },
                { id: generateId(), title: 'Elf loli sinh t·ªìn k√Ω', chapter: '', neon: '2' }
            ]}
        ],
        
        'phim': [
            { subcategory: '', items: [
                { id: generateId(), title: 't∆∞ v√¥ t√† phim 8', chapter: '8', neon: 'none' },
                { id: generateId(), title: 'nh·∫•t ni·ªám vƒ©nh h·∫±ng phim 64 p2', chapter: '64', neon: 'none' },
                { id: generateId(), title: 'ti√™n ngh·ªãch 117', chapter: '117', neon: 'none' },
                { id: generateId(), title: 'phim th·∫ø gi·ªõi ho√†n m·ªπ rt45', chapter: 'rt45', neon: 'none' },
                { id: generateId(), title: 'phim ph√†m nh√¢n tu ti√™n', chapter: '', neon: 'none' },
                { id: generateId(), title: 'BLACK CLOVER phim/134', chapter: '134', neon: 'none' },
                { id: generateId(), title: 'nguy·ªát ƒë·∫°o d·ªã gi·ªõi p1', chapter: 'p1', neon: 'none' },
                { id: generateId(), title: 'nguy·ªát ƒë·∫°o d·ªã gi·ªõi p2 18', chapter: '18', neon: 'none' },
                { id: generateId(), title: 'konosuba /71', chapter: '71', neon: 'none' },
                { id: generateId(), title: 'the boys p1', chapter: 'p1', neon: 'none' },
                { id: generateId(), title: 'the boys p2 4', chapter: '4', neon: 'none' },
                { id: generateId(), title: 'Alice in the borderland', chapter: '', neon: 'none' },
                { id: generateId(), title: 'breaking bad', chapter: '', neon: 'none' },
                { id: generateId(), title: 'oishi no ko phim 1', chapter: '1', neon: 'none' },
                { id: generateId(), title: 'peacemarker', chapter: '', neon: 'none' },
                { id: generateId(), title: 'nguy√™n long 1', chapter: '1', neon: 'none' },
                { id: generateId(), title: 'junji ito maniac japanese tales of the macabre (truy·ªán ma nh·∫≠t b·∫£n)', chapter: '', neon: 'none' },
                { id: generateId(), title: 'inuyashiki (√¥ng b√°c si√™u nh√¢n)', chapter: '', neon: 'none' },
                { id: generateId(), title: 'Maou No Ore Ga Dorei Elf Wo Yome Ni Shitanda Ga, Dou Medereba Ii? 10', chapter: '10', neon: 'none' },
                { id: generateId(), title: 'baki dai raitaisai hen 9', chapter: '9', neon: 'none' }
            ]}
        ]
    };

    // App state
    const appState = {
        currentCategory: null,
        currentSort: 'default',
        searchTerm: ''
    };

    // Helper functions
    function generateId() {
        return Date.now().toString(36) + Math.random().toString(36).substr(2);
    }

    function saveToLocalStorage() {
        try {
            localStorage.setItem('comicLibraryData', JSON.stringify(contentData));
            console.log('Data saved to localStorage');
        } catch (error) {
            console.error('Error saving to localStorage:', error);
        }
    }

    function loadFromLocalStorage() {
        try {
            const savedData = localStorage.getItem('comicLibraryData');
            if (savedData) {
                const parsedData = JSON.parse(savedData);
                contentData = parsedData;
                console.log('Data loaded from localStorage');
                return true;
            }
        } catch (error) {
            console.error('Error loading from localStorage:', error);
        }
        return false;
    }

    function resetToDefaultData() {
        if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën ƒë·∫∑t l·∫°i to√†n b·ªô d·ªØ li·ªáu v·ªÅ m·∫∑c ƒë·ªãnh? D·ªØ li·ªáu hi·ªán t·∫°i s·∫Ω b·ªã m·∫•t!')) {
            contentData.items = JSON.parse(JSON.stringify(defaultData));
            saveToLocalStorage();
            showToast('ƒê√£ ƒë·∫∑t l·∫°i d·ªØ li·ªáu m·∫∑c ƒë·ªãnh', 'success');
            initializeApp();
        }
    }

    function calculateStats() {
        let totalItems = 0;
        let readingCount = 0;
        const totalCategories = contentData.categories.length;
        
        Object.values(contentData.items).forEach(categoryItems => {
            categoryItems.forEach(subcat => {
                totalItems += subcat.items.length;
                subcat.items.forEach(item => {
                    if (item.chapter && item.chapter.trim() !== '') {
                        readingCount++;
                    }
                });
            });
        });
        
        return {
            totalItems,
            totalCategories,
            readingCount
        };
    }

    function getRatingText(rating) {
        switch(rating) {
            case 'heart': return 'üíï ƒê·∫∑c bi·ªát';
            case '4': return '**** 4 sao';
            case '3': return '*** 3 sao';
            case '2': return '** 2 sao';
            case '1': return '* 1 sao';
            default: return 'Ch∆∞a ƒë√°nh gi√°';
        }
    }

    function formatDate(dateString) {
        if (!dateString) return 'Ch∆∞a c·∫≠p nh·∫≠t';
        const date = new Date(dateString);
        const now = new Date();
        const diffMs = now - date;
        const diffMins = Math.floor(diffMs / 60000);
        const diffHours = Math.floor(diffMs / 3600000);
        const diffDays = Math.floor(diffMs / 86400000);
        
        if (diffMins < 60) {
            return `${diffMins} ph√∫t tr∆∞·ªõc`;
        } else if (diffHours < 24) {
            return `${diffHours} gi·ªù tr∆∞·ªõc`;
        } else if (diffDays < 7) {
            return `${diffDays} ng√†y tr∆∞·ªõc`;
        } else {
            return date.toLocaleDateString('vi-VN');
        }
    }

    function showToast(message, type = 'success') {
        const toast = document.getElementById('toast');
        const toastMessage = document.getElementById('toastMessage');
        
        // Set message and color
        toastMessage.textContent = message;
        
        if (type === 'error') {
            toast.style.background = 'var(--danger)';
            toast.querySelector('i').className = 'fas fa-exclamation-circle';
        } else if (type === 'warning') {
            toast.style.background = 'var(--accent)';
            toast.querySelector('i').className = 'fas fa-exclamation-triangle';
        } else {
            toast.style.background = 'var(--success)';
            toast.querySelector('i').className = 'fas fa-check-circle';
        }
        
        // Show toast
        toast.style.display = 'flex';
        
        // Auto hide after 3 seconds
        setTimeout(() => {
            toast.style.display = 'none';
        }, 3000);
    }

    function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
            const later = () => {
                clearTimeout(timeout);
                func(...args);
            };
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
        };
    }

    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
        initializeApp();
        setupEventListeners();
    });

    function initializeApp() {
        console.log('Initializing app...');
        
        // Try to load from localStorage first
        const loaded = loadFromLocalStorage();
        
        if (!loaded) {
            // If no localStorage data, use default data
            console.log('Using default data');
            contentData.items = JSON.parse(JSON.stringify(defaultData));
            saveToLocalStorage();
        }
        
        // Render categories list
        renderCategories();
        
        // Set first category as active
        if (contentData.categories.length > 0) {
            const firstCategory = contentData.categories[0];
            showCategory(firstCategory.id);
            updateCategoryTitle(firstCategory);
            
            // Set first category as active in sidebar
            setTimeout(() => {
                const firstCategoryElement = document.querySelector(`.category-item[data-id="${firstCategory.id}"]`);
                if (firstCategoryElement) {
                    firstCategoryElement.classList.add('active');
                }
            }, 100);
        }
        
        // Populate category dropdown in add form
        populateCategoryDropdown();
        
        // Update stats
        updateStats();
        
        console.log('App initialized successfully');
    }

    function setupEventListeners() {
        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', debounce(handleSearch, 300));
        
        // Add comic button
        document.getElementById('addComicBtn').addEventListener('click', showAddComicModal);
        document.getElementById('saveAllBtn').addEventListener('click', () => {
            saveToLocalStorage();
            showToast('ƒê√£ l∆∞u d·ªØ li·ªáu th√†nh c√¥ng!', 'success');
        });
        document.getElementById('importBtn').addEventListener('click', showImportModal);
        
        // Modal close buttons
        document.getElementById('closeAddModal').addEventListener('click', hideAddComicModal);
        document.getElementById('cancelAdd').addEventListener('click', hideAddComicModal);
        document.getElementById('closeEditModal').addEventListener('click', hideEditChapterModal);
        document.getElementById('cancelEdit').addEventListener('click', hideEditChapterModal);
        document.getElementById('closeImportModal').addEventListener('click', hideImportModal);
        document.getElementById('cancelImport').addEventListener('click', hideImportModal);
        
        // Import buttons
        document.getElementById('importDefault').addEventListener('click', () => {
            resetToDefaultData();
            hideImportModal();
        });
        document.getElementById('importJSON').addEventListener('click', showJSONInput);
        
        // Form submissions
        document.getElementById('addComicForm').addEventListener('submit', handleAddComic);
        document.getElementById('editChapterForm').addEventListener('submit', handleUpdateChapter);
        
        // Close modal when clicking outside
        document.getElementById('addComicModal').addEventListener('click', function(e) {
            if (e.target === this) hideAddComicModal();
        });
        document.getElementById('editChapterModal').addEventListener('click', function(e) {
            if (e.target === this) hideEditChapterModal();
        });
        document.getElementById('importModal').addEventListener('click', function(e) {
            if (e.target === this) hideImportModal();
        });
    }

    function renderCategories() {
        const categoriesList = document.getElementById('categoriesList');
        categoriesList.innerHTML = '';
        
        contentData.categories.forEach(category => {
            // Count items in category
            let itemCount = 0;
            if (contentData.items[category.id]) {
                contentData.items[category.id].forEach(subcat => {
                    itemCount += subcat.items.length;
                });
            }
            
            const categoryElement = document.createElement('div');
            categoryElement.className = 'category-item';
            categoryElement.dataset.id = category.id;
            categoryElement.innerHTML = `
                <div>
                    <div class="category-name">${category.name}</div>
                    <div style="display: flex; gap: 10px; margin-top: 5px;">
                        <span class="category-code">${category.code}</span>
                        <span style="color: var(--gray); font-size: 0.85rem;">${itemCount} truy·ªán</span>
                    </div>
                </div>
                <i class="fas fa-chevron-right"></i>
            `;
            
            categoryElement.addEventListener('click', () => {
                // Remove active class from all categories
                document.querySelectorAll('.category-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Add active class to clicked category
                categoryElement.classList.add('active');
                
                // Show category content
                showCategory(category.id);
                
                // Update category title
                updateCategoryTitle(category);
                
                // Reset search
                document.getElementById('searchInput').value = '';
                appState.searchTerm = '';
            });
            
            categoriesList.appendChild(categoryElement);
        });
    }

    function showCategory(categoryId) {
        appState.currentCategory = categoryId;
        appState.searchTerm = '';
        
        // Hide all category contents
        document.querySelectorAll('.category-content').forEach(content => {
            content.classList.remove('active');
        });
        
        // Hide no results message
        document.getElementById('noResults').style.display = 'none';
        
        // Find category
        const category = contentData.categories.find(cat => cat.id === categoryId);
        const items = contentData.items[categoryId];
        
        // Create category content container if it doesn't exist
        let categoryContent = document.getElementById(`category-${categoryId}`);
        
        if (!categoryContent) {
            categoryContent = document.createElement('div');
            categoryContent.id = `category-${categoryId}`;
            categoryContent.className = 'category-content';
            document.getElementById('categoryContents').appendChild(categoryContent);
        }
        
        // Clear previous content
        categoryContent.innerHTML = '';
        
        // If no items for this category
        if (!items || items.length === 0) {
            categoryContent.innerHTML = `
                <div style="text-align: center; padding: 40px; color: var(--gray);">
                    <i class="fas fa-book fa-3x" style="margin-bottom: 20px; opacity: 0.5;"></i>
                    <p>Ch∆∞a c√≥ n·ªôi dung cho th·ªÉ lo·∫°i n√†y.</p>
                    <button class="btn btn-primary" id="addFirstComic" style="margin-top: 20px;">
                        <i class="fas fa-plus"></i> Th√™m truy·ªán ƒë·∫ßu ti√™n
                    </button>
                </div>
            `;
            
            // Add event listener to the button
            setTimeout(() => {
                document.getElementById('addFirstComic')?.addEventListener('click', showAddComicModal);
            }, 100);
            
            categoryContent.classList.add('active');
            return;
        }
        
        // Render subcategories and items
        items.forEach(subcat => {
            const subcategoryElement = document.createElement('div');
            subcategoryElement.className = 'subcategory';
            
            // Add subcategory title if exists
            if (subcat.subcategory) {
                const subcategoryTitle = document.createElement('h3');
                subcategoryTitle.className = 'subcategory-title';
                subcategoryTitle.innerHTML = `<i class="fas fa-folder"></i> ${subcat.subcategory}`;
                subcategoryElement.appendChild(subcategoryTitle);
            }
            
            // Create items container
            const itemsContainer = document.createElement('div');
            itemsContainer.className = 'items-grid';
            
            // Add items
            subcat.items.forEach(item => {
                const itemElement = createItemElement(item, categoryId, subcat.subcategory || '');
                itemsContainer.appendChild(itemElement);
            });
            
            subcategoryElement.appendChild(itemsContainer);
            categoryContent.appendChild(subcategoryElement);
        });
        
        // Show the category content
        categoryContent.classList.add('active');
    }

    function createItemElement(item, categoryId, subcategory) {
        const itemElement = document.createElement('div');
        
        const itemId = item.id;
        const itemTitle = item.title || '';
        const itemChapter = item.chapter || '';
        const itemRating = item.neon || 'none';
        const itemTags = item.tags || [];
        const itemDescription = item.description || '';
        const lastUpdated = item.lastUpdated || new Date().toISOString();
        
        itemElement.className = `item ${itemRating !== 'none' ? 'neon-' + itemRating : ''}`;
        itemElement.dataset.id = itemId;
        
        const ratingText = getRatingText(itemRating);
        
        // Format tags if it's a string
        let tagsArray = [];
        if (typeof itemTags === 'string') {
            tagsArray = itemTags.split(',').map(tag => tag.trim()).filter(tag => tag);
        } else if (Array.isArray(itemTags)) {
            tagsArray = itemTags;
        }
        
        itemElement.innerHTML = `
            <div class="item-header">
                <div class="item-title">${itemTitle}</div>
                <div class="item-rating">${ratingText}</div>
            </div>
            
            <div class="item-body">
                ${itemDescription ? `<p style="color: var(--gray-light); font-size: 0.9rem; margin-bottom: 10px;">${itemDescription}</p>` : ''}
                
                ${tagsArray.length > 0 ? `
                    <div class="item-tags">
                        ${tagsArray.map(tag => `<span class="tag">${tag}</span>`).join('')}
                    </div>
                ` : ''}
                
                <div style="color: var(--gray); font-size: 0.85rem; margin-top: 10px;">
                    <i class="far fa-clock"></i> C·∫≠p nh·∫≠t: ${formatDate(lastUpdated)}
                </div>
            </div>
            
            <div class="item-footer">
                <div class="chapter-controls">
                    <div style="font-weight: 600;">Chapter:</div>
                    <input type="text" class="chapter-input" value="${itemChapter}" 
                           data-id="${itemId}" data-category="${categoryId}" data-subcategory="${subcategory}">
                    <button class="btn-sm btn-update update-chapter" 
                            data-id="${itemId}" data-category="${categoryId}" data-subcategory="${subcategory}">
                        <i class="fas fa-save"></i> C·∫≠p nh·∫≠t
                    </button>
                </div>
                
                <div class="item-actions">
                    <button class="btn-sm btn-primary edit-item" 
                            data-id="${itemId}" data-category="${categoryId}" data-subcategory="${subcategory}">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-sm btn-delete delete-item" 
                            data-id="${itemId}" data-category="${categoryId}" data-subcategory="${subcategory}">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        `;
        
        // Add event listeners
        const updateBtn = itemElement.querySelector('.update-chapter');
        const editBtn = itemElement.querySelector('.edit-item');
        const deleteBtn = itemElement.querySelector('.delete-item');
        const chapterInput = itemElement.querySelector('.chapter-input');
        
        updateBtn.addEventListener('click', function() {
            const newChapter = chapterInput.value.trim();
            if (newChapter !== itemChapter) {
                updateChapter(
                    this.dataset.id,
                    this.dataset.category,
                    this.dataset.subcategory,
                    newChapter
                );
            }
        });
        
        chapterInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const newChapter = this.value.trim();
                if (newChapter !== itemChapter) {
                    updateChapter(
                        this.dataset.id,
                        this.dataset.category,
                        this.dataset.subcategory,
                        newChapter
                    );
                }
            }
        });
        
        editBtn.addEventListener('click', function() {
            showEditChapterModal(
                this.dataset.id,
                this.dataset.category,
                this.dataset.subcategory
            );
        });
        
        deleteBtn.addEventListener('click', function() {
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a truy·ªán n√†y?')) {
                deleteComic(
                    this.dataset.id,
                    this.dataset.category,
                    this.dataset.subcategory
                );
            }
        });
        
        return itemElement;
    }

    function updateChapter(itemId, categoryId, subcategory, newChapter) {
        // Find and update the item
        const categoryItems = contentData.items[categoryId];
        if (!categoryItems) return;
        
        for (const subcat of categoryItems) {
            const itemIndex = subcat.items.findIndex(item => item.id === itemId);
            if (itemIndex !== -1) {
                subcat.items[itemIndex].chapter = newChapter;
                subcat.items[itemIndex].lastUpdated = new Date().toISOString();
                
                // Save to localStorage
                saveToLocalStorage();
                
                // Update stats
                updateStats();
                
                // Show success message
                showToast('ƒê√£ c·∫≠p nh·∫≠t chapter!');
                
                // Refresh the category view if not in search mode
                if (!appState.searchTerm && appState.currentCategory === categoryId) {
                    showCategory(categoryId);
                }
                
                return true;
            }
        }
        
        return false;
    }

    function handleAddComic(e) {
        e.preventDefault();
        
        // Get form values
        const title = document.getElementById('comicTitle').value.trim();
        const categoryId = document.getElementById('comicCategory').value;
        const subcategory = document.getElementById('comicSubcategory').value.trim();
        const chapter = document.getElementById('comicChapter').value.trim();
        const rating = document.getElementById('comicRating').value;
        const tags = document.getElementById('comicTags').value
            .split(',')
            .map(tag => tag.trim())
            .filter(tag => tag.length > 0);
        const description = document.getElementById('comicDescription').value.trim();
        
        // Validate
        if (!title || !categoryId || !chapter) {
            showToast('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc', 'error');
            return;
        }
        
        // Create new item
        const newItem = {
            id: generateId(),
            title,
            chapter,
            neon: rating,
            tags,
            description,
            lastUpdated: new Date().toISOString()
        };
        
        // Add to data structure
        if (!contentData.items[categoryId]) {
            contentData.items[categoryId] = [];
        }
        
        // Find or create subcategory
        let subcatObj = contentData.items[categoryId].find(sc => sc.subcategory === subcategory);
        if (!subcatObj) {
            subcatObj = { subcategory, items: [] };
            contentData.items[categoryId].push(subcatObj);
        }
        
        subcatObj.items.push(newItem);
        
        // Save to localStorage
        saveToLocalStorage();
        
        // Hide modal
        hideAddComicModal();
        
        // Show success message
        showToast('ƒê√£ th√™m truy·ªán th√†nh c√¥ng!');
        
        // Update stats
        updateStats();
        
        // Switch to the category
        const category = contentData.categories.find(cat => cat.id === categoryId);
        if (category) {
            // Update active category
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.id === categoryId) {
                    item.classList.add('active');
                }
            });
            
            showCategory(categoryId);
            updateCategoryTitle(category);
        }
    }

    function showEditChapterModal(itemId, categoryId, subcategory) {
        // Find the item
        const categoryItems = contentData.items[categoryId];
        if (!categoryItems) return;
        
        let targetItem = null;
        for (const subcat of categoryItems) {
            const item = subcat.items.find(item => item.id === itemId);
            if (item) {
                targetItem = item;
                break;
            }
        }
        
        if (!targetItem) return;
        
        // Fill form
        document.getElementById('editComicId').value = itemId;
        document.getElementById('editCategoryId').value = categoryId;
        document.getElementById('editSubcategoryName').value = subcategory;
        document.getElementById('editComicTitle').value = targetItem.title || '';
        document.getElementById('editComicChapter').value = targetItem.chapter || '';
        document.getElementById('editComicRating').value = targetItem.neon || 'none';
        
        // Show modal
        document.getElementById('editChapterModal').style.display = 'flex';
    }

    function handleUpdateChapter(e) {
        e.preventDefault();
        
        const itemId = document.getElementById('editComicId').value;
        const categoryId = document.getElementById('editCategoryId').value;
        const subcategory = document.getElementById('editSubcategoryName').value;
        const newChapter = document.getElementById('editComicChapter').value.trim();
        const newRating = document.getElementById('editComicRating').value;
        
        if (!newChapter) {
            showToast('Vui l√≤ng nh·∫≠p chapter', 'error');
            return;
        }
        
        // Find and update the item
        const categoryItems = contentData.items[categoryId];
        if (!categoryItems) return;
        
        for (const subcat of categoryItems) {
            const itemIndex = subcat.items.findIndex(item => item.id === itemId);
            if (itemIndex !== -1) {
                subcat.items[itemIndex].chapter = newChapter;
                subcat.items[itemIndex].neon = newRating;
                subcat.items[itemIndex].lastUpdated = new Date().toISOString();
                
                // Save to localStorage
                saveToLocalStorage();
                
                // Hide modal
                hideEditChapterModal();
                
                // Show success message
                showToast('ƒê√£ c·∫≠p nh·∫≠t th√†nh c√¥ng!');
                
                // Update stats
                updateStats();
                
                // Refresh the view
                if (appState.searchTerm) {
                    handleSearch();
                } else if (appState.currentCategory === categoryId) {
                    showCategory(categoryId);
                }
                
                return;
            }
        }
        
        showToast('Kh√¥ng t√¨m th·∫•y truy·ªán ƒë·ªÉ c·∫≠p nh·∫≠t', 'error');
    }

    function deleteComic(itemId, categoryId, subcategory) {
        // Find and remove the item
        const categoryItems = contentData.items[categoryId];
        if (!categoryItems) return;
        
        for (let i = 0; i < categoryItems.length; i++) {
            const subcat = categoryItems[i];
            const itemIndex = subcat.items.findIndex(item => item.id === itemId);
            if (itemIndex !== -1) {
                subcat.items.splice(itemIndex, 1);
                
                // Remove empty subcategory
                if (subcat.items.length === 0) {
                    categoryItems.splice(i, 1);
                }
                
                // Save to localStorage
                saveToLocalStorage();
                
                // Show success message
                showToast('ƒê√£ x√≥a truy·ªán th√†nh c√¥ng!');
                
                // Update stats
                updateStats();
                
                // Refresh the view
                if (appState.searchTerm) {
                    handleSearch();
                } else if (appState.currentCategory === categoryId) {
                    showCategory(categoryId);
                }
                
                return;
            }
        }
    }

    function handleSearch() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
        appState.searchTerm = searchTerm;
        
        // If search is empty, show current category
        if (searchTerm === '' && appState.currentCategory) {
            showCategory(appState.currentCategory);
            document.getElementById('noResults').style.display = 'none';
            return;
        }
        
        // Hide all category contents
        document.querySelectorAll('.category-content').forEach(content => {
            content.classList.remove('active');
        });
        
        // Create search results container
        let searchResultsContainer = document.getElementById('search-results');
        if (!searchResultsContainer) {
            searchResultsContainer = document.createElement('div');
            searchResultsContainer.id = 'search-results';
            searchResultsContainer.className = 'category-content';
            document.getElementById('categoryContents').appendChild(searchResultsContainer);
        }
        
        // Clear previous results
        searchResultsContainer.innerHTML = '';
        
        // Search through all items
        const searchResults = [];
        Object.keys(contentData.items).forEach(categoryId => {
            const categoryItems = contentData.items[categoryId];
            if (!categoryItems) return;
            
            categoryItems.forEach(subcat => {
                subcat.items.forEach(item => {
                    if (item.title.toLowerCase().includes(searchTerm) ||
                        (item.tags && item.tags.toString().toLowerCase().includes(searchTerm)) ||
                        (item.description && item.description.toLowerCase().includes(searchTerm))) {
                        searchResults.push({
                            ...item,
                            categoryId,
                            subcategory: subcat.subcategory
                        });
                    }
                });
            });
        });
        
        if (searchResults.length > 0) {
            // Group results by category for display
            const groupedByCategory = {};
            searchResults.forEach(item => {
                if (!groupedByCategory[item.categoryId]) {
                    groupedByCategory[item.categoryId] = [];
                }
                groupedByCategory[item.categoryId].push(item);
            });
            
            // Display results
            Object.keys(groupedByCategory).forEach(categoryId => {
                const category = contentData.categories.find(c => c.id === categoryId);
                if (!category) return;
                
                const categoryResults = document.createElement('div');
                categoryResults.className = 'subcategory';
                
                // Add category title
                const categoryTitle = document.createElement('h3');
                categoryTitle.className = 'subcategory-title';
                categoryTitle.innerHTML = `<i class="${category.icon}"></i> ${category.name} (${category.code})`;
                categoryResults.appendChild(categoryTitle);
                
                // Create items container
                const itemsContainer = document.createElement('div');
                itemsContainer.className = 'items-grid';
                
                // Add items
                groupedByCategory[categoryId].forEach(item => {
                    const itemElement = createItemElement(item, categoryId, item.subcategory || '');
                    itemsContainer.appendChild(itemElement);
                });
                
                categoryResults.appendChild(itemsContainer);
                searchResultsContainer.appendChild(categoryResults);
            });
            
            searchResultsContainer.classList.add('active');
            document.getElementById('noResults').style.display = 'none';
            
            // Update category title
            document.getElementById('currentCategoryTitle').innerHTML = `
                <i class="fas fa-search"></i> K·∫øt qu·∫£ t√¨m ki·∫øm: "${searchTerm}" (${searchResults.length} k·∫øt qu·∫£)
            `;
        } else {
            searchResultsContainer.classList.remove('active');
            document.getElementById('noResults').style.display = 'block';
            
            // Update category title
            document.getElementById('currentCategoryTitle').innerHTML = `
                <i class="fas fa-search"></i> K·∫øt qu·∫£ t√¨m ki·∫øm
            `;
        }
    }

    function updateStats() {
        const stats = calculateStats();
        
        // Update stats display
        document.getElementById('totalItems').textContent = stats.totalItems;
        document.getElementById('totalCategories').textContent = stats.totalCategories;
        document.getElementById('readingCount').textContent = stats.readingCount;
    }

    function populateCategoryDropdown() {
        const dropdown = document.getElementById('comicCategory');
        dropdown.innerHTML = '<option value="">Ch·ªçn th·ªÉ lo·∫°i</option>';
        
        contentData.categories.forEach(category => {
            const option = document.createElement('option');
            option.value = category.id;
            option.textContent = `${category.name} (${category.code})`;
            dropdown.appendChild(option);
        });
    }

    function updateCategoryTitle(category) {
        document.getElementById('currentCategoryTitle').innerHTML = `
            <i class="${category.icon}" style="color: ${category.color};"></i> ${category.name} (${category.code})
        `;
    }

    // Modal functions
    function showAddComicModal() {
        const modal = document.getElementById('addComicModal');
        const form = document.getElementById('addComicForm');
        
        // Reset form
        form.reset();
        
        // Set default category to current category if exists
        if (appState.currentCategory) {
            document.getElementById('comicCategory').value = appState.currentCategory;
        }
        
        // Show modal
        modal.style.display = 'flex';
    }

    function hideAddComicModal() {
        document.getElementById('addComicModal').style.display = 'none';
    }

    function hideEditChapterModal() {
        document.getElementById('editChapterModal').style.display = 'none';
    }

    function showImportModal() {
        document.getElementById('importModal').style.display = 'flex';
        document.getElementById('jsonInputContainer').style.display = 'none';
        document.getElementById('jsonInput').value = '';
    }

    function hideImportModal() {
        document.getElementById('importModal').style.display = 'none';
    }

    function showJSONInput() {
        document.getElementById('jsonInputContainer').style.display = 'block';
        
        setTimeout(() => {
            document.getElementById('jsonInput').focus();
        }, 100);
    }
// ========== CONFIG ==========
const API_BASE_URL = 'https://comic-backend-cuef.onrender.com';
const USE_BACKEND = true;
const BACKEND_TIMEOUT = 10000; // 10 seconds timeout
// ============================

// ========== ENHANCED API SERVICE ==========
const apiService = {
    async fetchWithTimeout(resource, options = {}) {
        const controller = new AbortController();
        const id = setTimeout(() => controller.abort(), BACKEND_TIMEOUT);
        
        try {
            const response = await fetch(resource, {
                ...options,
                signal: controller.signal
            });
            clearTimeout(id);
            return response;
        } catch (error) {
            clearTimeout(id);
            throw error;
        }
    },

    async fetchCategories() {
        try {
            const response = await this.fetchWithTimeout(`${API_BASE_URL}/api/categories`);
            if (!response.ok) throw new Error('Categories fetch failed');
            return await response.json();
        } catch (error) {
            console.log('Using cached/local categories');
            return this.getCachedCategories();
        }
    },

    async fetchComics() {
        try {
            const response = await this.fetchWithTimeout(`${API_BASE_URL}/api/comics?limit=500`);
            if (!response.ok) throw new Error('Comics fetch failed');
            const comics = await response.json();
            
            // Cache the response
            localStorage.setItem('comics_cache', JSON.stringify({
                data: comics,
                timestamp: Date.now()
            }));
            
            return comics;
        } catch (error) {
            console.log('Using cached comics');
            return this.getCachedComics();
        }
    },

    async addComic(comicData) {
        showLoading('ƒêang l∆∞u truy·ªán...');
        
        try {
            const response = await this.fetchWithTimeout(`${API_BASE_URL}/api/comics`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(comicData)
            });
            
            if (!response.ok) throw new Error('Add comic failed');
            
            const newComic = await response.json();
            
            // Update local cache immediately
            this.addToLocalCache(newComic);
            
            return newComic;
        } catch (error) {
            console.error('Backend add failed, saving locally:', error);
            
            // Fallback: save to localStorage
            const localComic = {
                ...comicData,
                id: `local_${Date.now()}`,
                lastUpdated: new Date().toISOString()
            };
            
            this.addToLocalCache(localComic);
            this.queueForSync(localComic); // Queue for later sync
            
            return localComic;
        } finally {
            hideLoading();
        }
    },

    // ========== CACHE MANAGEMENT ==========
    getCachedCategories() {
        const cache = localStorage.getItem('categories_cache');
        if (cache) {
            const { data, timestamp } = JSON.parse(cache);
            // Use cache if less than 1 hour old
            if (Date.now() - timestamp < 3600000) {
                return data;
            }
        }
        
        // Return default categories if no cache
        return defaultCategories;
    },

    getCachedComics() {
        const cache = localStorage.getItem('comics_cache');
        if (cache) {
            const { data, timestamp } = JSON.parse(cache);
            // Use cache if less than 1 hour old
            if (Date.now() - timestamp < 3600000) {
                return data;
            }
        }
        
        // Return empty array if no cache
        return [];
    },

    addToLocalCache(comic) {
        const cache = localStorage.getItem('comics_cache');
        let comics = [];
        
        if (cache) {
            const parsed = JSON.parse(cache);
            comics = parsed.data || [];
        }
        
        comics.push(comic);
        
        localStorage.setItem('comics_cache', JSON.stringify({
            data: comics,
            timestamp: Date.now()
        }));
    },

    queueForSync(comic) {
        const queue = JSON.parse(localStorage.getItem('sync_queue') || '[]');
        queue.push({
            ...comic,
            syncStatus: 'pending',
            queuedAt: new Date().toISOString()
        });
        
        localStorage.setItem('sync_queue', JSON.stringify(queue));
        
        // Try to sync in background
        this.trySyncQueue();
    },

    async trySyncQueue() {
        const queue = JSON.parse(localStorage.getItem('sync_queue') || '[]');
        const pending = queue.filter(item => item.syncStatus === 'pending');
        
        if (pending.length === 0) return;
        
        console.log(`Syncing ${pending.length} pending comics...`);
        
        for (const item of pending) {
            try {
                const response = await fetch(`${API_BASE_URL}/api/comics`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(item)
                });
                
                if (response.ok) {
                    // Mark as synced
                    const index = queue.findIndex(q => q.id === item.id);
                    queue[index].syncStatus = 'synced';
                    queue[index].syncedAt = new Date().toISOString();
                }
            } catch (error) {
                console.log('Sync failed for:', item.id);
            }
        }
        
        localStorage.setItem('sync_queue', JSON.stringify(queue));
    }
};

// ========== LOADING UI ==========
function showLoading(message = 'ƒêang x·ª≠ l√Ω...') {
    // Remove existing loader if any
    hideLoading();
    
    const loader = document.createElement('div');
    loader.id = 'global-loader';
    loader.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        color: white;
        font-size: 1.2rem;
    `;
    
    loader.innerHTML = `
        <div class="spinner" style="
            width: 50px;
            height: 50px;
            border: 5px solid var(--primary);
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        "></div>
        <div class="message">${message}</div>
        <style>
            @keyframes spin {
                to { transform: rotate(360deg); }
            }
        </style>
    `;
    
    document.body.appendChild(loader);
}

function hideLoading() {
    const loader = document.getElementById('global-loader');
    if (loader) {
        loader.remove();
    }
}

// ========== ENHANCED HANDLE ADD COMIC ==========
async function handleAddComic(e) {
    e.preventDefault();
    
    // Get form data
    const comicData = {
        title: document.getElementById('comicTitle').value.trim(),
        category_id: document.getElementById('comicCategory').value,
        subcategory: document.getElementById('comicSubcategory').value.trim(),
        chapter: document.getElementById('comicChapter').value.trim(),
        rating: document.getElementById('comicRating').value,
        tags: document.getElementById('comicTags').value
            .split(',')
            .map(tag => tag.trim())
            .filter(tag => tag),
        description: document.getElementById('comicDescription').value.trim()
    };
    
    // Validate
    if (!comicData.title || !comicData.category_id || !comicData.chapter) {
        showToast('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin b·∫Øt bu·ªôc', 'error');
        return;
    }
    
    // Add comic (with loading state)
    const newComic = await apiService.addComic(comicData);
    
    // Update UI immediately
    hideAddComicModal();
    showToast('ƒê√£ th√™m truy·ªán th√†nh c√¥ng!');
    
    // Refresh data
    await refreshData();
    
    // Switch to the added category
    const category = contentData.categories.find(cat => cat.id === comicData.category_id);
    if (category) {
        showCategory(comicData.category_id);
        updateCategoryTitle(category);
    }
}

// ========== PERIODIC SYNC ==========
function startPeriodicSync() {
    // Sync every 5 minutes
    setInterval(() => {
        apiService.trySyncQueue();
    }, 300000);
    
    // Also sync when page becomes visible
    document.addEventListener('visibilitychange', () => {
        if (!document.hidden) {
            apiService.trySyncQueue();
        }
    });
}

// ========== INITIALIZE ==========
async function initializeApp() {
    showLoading('ƒêang t·∫£i d·ªØ li·ªáu...');
    
    try {
        // Try to fetch from backend with timeout
        const [categories, comics] = await Promise.allSettled([
            apiService.fetchCategories(),
            apiService.fetchComics()
        ]);
        
        // Use whatever data we got
        contentData.categories = categories.status === 'fulfilled' ? categories.value : defaultCategories;
        contentData.items = comics.status === 'fulfilled' ? comics.value : [];
        
        // Start periodic sync
        startPeriodicSync();
        
    } catch (error) {
        console.error('Initialization failed:', error);
        // Use cached data
        contentData.categories = apiService.getCachedCategories();
        contentData.items = apiService.getCachedComics();
    } finally {
        hideLoading();
        
        // Render UI
        renderCategories();
        updateStats();
        
        if (contentData.categories.length > 0) {
            showCategory(contentData.categories[0].id);
        }
    }
}
</script>
</body>
</html>